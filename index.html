<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title id="page-title" data-en="Lunar&Mars (LUMA)" data-fr="Lunar&Mars (LUMA)">Lunar&Mars (LUMA)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="Luma-noel-logo.png" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet" />

    <!-- Google Analytics 4 - LUMA -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z4L8P2YSD7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-Z4L8P2YSD7');
    </script>

    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            background:#000 url("Luma-fond-christmas.jpg") center/cover fixed no-repeat;
            color:#fff;
            overflow-x:hidden;
            position: relative;
        }
        a { color:inherit; text-decoration:none; }

        /* -------- CANVAS POUR EFFETS M√âT√âO DYNAMIQUES -------- */
        #weather-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
        }

        /* -------- ISS TRACKER (NOUVEAU!) -------- */
        .iss-tracker {
            position: fixed;
            top: 90px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(16px);
            border: 2px solid rgba(255, 178, 26, 0.5);
            border-radius: 16px;
            padding: 16px;
            width: 320px;
            z-index: 10002;
            box-shadow: 0 8px 32px rgba(255, 178, 26, 0.3);
            animation: slideInRight 0.5s ease;
        }
        @keyframes slideInRight {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .iss-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 178, 26, 0.3);
        }
        .iss-icon {
            font-size: 28px;
            animation: orbit 20s linear infinite;
        }
        @keyframes orbit {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .iss-title {
            font-size: 14px;
            font-weight: 800;
            letter-spacing: 0.05em;
            color: #ffb21a;
        }
        .iss-data {
            font-size: 11px;
            line-height: 1.6;
        }
        .iss-row {
            display: flex;
            justify-content: space-between;
            margin: 6px 0;
            padding: 4px 0;
        }
        .iss-label {
            color: rgba(255, 255, 255, 0.6);
        }
        .iss-value {
            font-weight: 700;
            color: #fff;
            font-family: 'JetBrains Mono', monospace;
        }
        .iss-distance {
            background: linear-gradient(135deg, rgba(255, 178, 26, 0.2), rgba(255, 100, 26, 0.2));
            padding: 8px;
            border-radius: 8px;
            text-align: center;
            margin: 8px 0;
        }
        .iss-distance-value {
            font-size: 20px;
            font-weight: 900;
            color: #ffb21a;
        }
        .iss-astronauts {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        .iss-astronaut {
            font-size: 10px;
            padding: 3px 0;
            opacity: 0.8;
        }

        /* -------- PANNEAU STATISTIQUES SPATIALES -------- */
        .space-stats-panel {
            position: fixed;
            top: 90px;
            left: 20px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(16px);
            border: 2px solid rgba(100, 200, 255, 0.5);
            border-radius: 16px;
            padding: 16px;
            width: 280px;
            z-index: 10002;
            box-shadow: 0 8px 32px rgba(100, 200, 255, 0.3);
            animation: slideInLeft 0.5s ease;
        }
        @keyframes slideInLeft {
            from { transform: translateX(-400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .space-stats-title {
            font-size: 14px;
            font-weight: 800;
            letter-spacing: 0.05em;
            color: #64c8ff;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .stat-item {
            background: rgba(100, 200, 255, 0.1);
            border-radius: 8px;
            padding: 10px;
            margin: 8px 0;
        }
        .stat-label {
            font-size: 10px;
            color: rgba(255, 255, 255, 0.6);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .stat-value {
            font-size: 16px;
            font-weight: 900;
            color: #64c8ff;
            margin-top: 4px;
        }

        /* -------- BANNI√àRE ACTUALIT√âS SPATIALES (Am√©lior√©e) -------- */
        .space-news-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(90deg, rgba(25, 25, 112, 0.95), rgba(0, 0, 50, 0.95));
            backdrop-filter: blur(10px);
            border-top: 2px solid rgba(255, 178, 26, 0.6);
            padding: 12px 20px;
            z-index: 9999;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
            transform: translateY(100%);
            transition: transform 0.4s ease;
        }
        .space-news-banner.visible {
            transform: translateY(0);
        }
        .space-news-content {
            display: flex;
            align-items: center;
            gap: 15px;
            max-width: 1300px;
            margin: 0 auto;
        }
        .space-news-icon {
            font-size: 24px;
            animation: pulse 2s ease-in-out infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .space-news-text {
            flex: 1;
            font-size: 13px;
            line-height: 1.5;
        }
        .space-news-title {
            font-weight: 700;
            color: #ffb21a;
            margin-bottom: 3px;
        }
        .space-news-source {
            font-size: 10px;
            opacity: 0.6;
            margin-top: 2px;
        }
        .space-news-close {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 11px;
            transition: all 0.2s;
        }
        .space-news-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* -------- INDICATEUR DE CHARGEMENT IA (Am√©lior√©) -------- */
        .ai-loading {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 178, 26, 0.5);
            border-radius: 12px;
            padding: 12px 16px;
            font-size: 11px;
            color: #ffb21a;
            display: none;
            flex-direction: column;
            gap: 8px;
            z-index: 10001;
            box-shadow: 0 4px 20px rgba(255, 178, 26, 0.3);
            min-width: 200px;
        }
        .ai-loading.active {
            display: flex;
        }
        .ai-loading-header {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .ai-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 178, 26, 0.3);
            border-top-color: #ffb21a;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .ai-status {
            font-weight: 700;
        }
        .ai-details {
            font-size: 10px;
            opacity: 0.7;
            padding-left: 26px;
        }

        /* -------- BANNI√àRE √âV√âNEMENT DYNAMIQUE -------- */
        .event-banner {
            background: linear-gradient(90deg, #b30000, #008000);
            color: #fff;
            text-align: center;
            padding: 10px 15px;
            font-weight: 600;
            letter-spacing: 0.5px;
            font-size: 0.95rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.25);
            margin-top: 106px;
            transition: all 0.3s ease;
            animation: slideDown 0.5s ease;
        }
        @keyframes slideDown {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* -------- 1. HEADER & TICKER -------- */
        header {
            position:fixed; top:0; left:0; right:0; z-index:1000;
            display:flex; align-items:center; justify-content:space-between;
            gap:20px;
            padding:8px 24px;
            background:linear-gradient(to bottom,rgba(0,0,0,0.9),rgba(0,0,0,0.6));
            backdrop-filter:blur(16px); border-bottom:1px solid rgba(255,255,255,0.15);
        }
        .brand { display:flex; align-items:center; gap:12px; }
        .brand-logo { 
            width:52px; height:52px; border-radius:16px; overflow:hidden; background:#000;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
        .brand-logo img { width:100%; height:100%; object-fit:cover; }
        .brand-name { font-size:24px; font-weight:900; letter-spacing:0.02em; }

        .nav { display:flex; gap:16px; font-size:12px; text-transform:uppercase; }
        .nav a {
            padding:4px 8px; border-radius:999px; border:1px solid transparent;
            color:#f5f5ff; opacity:0.85; cursor:pointer;
            transition: all 0.3s ease;
        }
        .nav a:hover { 
            border-color:rgba(255,255,255,0.35); 
            background:rgba(0,0,0,0.55); 
            opacity:1;
            transform: translateY(-2px);
        }

        .lang-switch { display:flex; gap:8px; }
        .lang-switch button {
            background:#000; color:#fff; border:1px solid rgba(255,255,255,0.35);
            padding:4px 10px; border-radius:999px; cursor:pointer; font-size:11px; 
            transition: all 0.3s ease;
        }
        .lang-switch button.active { 
            background:#ffb21a; color:#1b1302; border-color:#ffb21a;
            transform: scale(1.1);
        }
        .lang-switch button:hover:not(.active) {
            transform: scale(1.05);
        }

        /* TICKER D√âFILANT */
        .ticker {
            position:fixed; top:69px; left:0; right:0; z-index:900;
            background:#f7f7fb; border-bottom:1px solid #e0e0ef; overflow:hidden;
        }
        .ticker-inner { padding:6px 0; white-space:nowrap; }
        .ticker-track { display:inline-flex; gap:22px; padding:0 24px; animation:scroll 38s linear infinite; }
        .ticker-item { font-size:13px; color:#222; font-weight:600; }
        .ticker-item span { margin-right:4px; }
        .ticker-change { font-size:11px; padding:2px 6px; border-radius:999px; border:1px solid transparent; }
        .ticker-change.up { color:#1a9c4d; border-color:rgba(1,156,77,0.35); background:rgba(26,156,77,0.08); }
        .ticker-change.down { color:#e64b5f; border-color:rgba(230,75,95,0.4); background:rgba(230,75,95,0.08); }

        @keyframes scroll {
            0% { transform:translateX(0); }
            100% { transform:translateX(-50%); }
        }

        @media (max-width:800px) {
            .ticker-track { animation:none; }
            .nav { display:none; }
            .iss-tracker, .space-stats-panel { display: none; }
        }

        /* -------- 2. HERO -------- */
        main { min-height:100vh; }
        .hero { max-width:1300px; margin:0 auto; padding:180px 24px 80px; position:relative; }

        .hero-title {
            text-align:center; font-size:54px; font-weight:900;
            letter-spacing:0.08em; margin-bottom:30px;
            text-shadow:0 0 18px rgba(0,0,0,0.9);
            animation: fadeInUp 1s ease;
        }
        @keyframes fadeInUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .hero-grid { display:grid; grid-template-columns: 1.4fr 1fr; gap:36px; }

        .panel {
            background:rgba(9,10,22,0.78); border-radius:24px; border:1px solid rgba(255,255,255,0.18);
            padding:30px; box-shadow:0 24px 60px rgba(0,0,0,0.65); backdrop-filter:blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .panel:hover {
            transform: translateY(-5px);
            box-shadow:0 30px 70px rgba(0,0,0,0.8);
        }
        .panel-title-small {
            font-size:13px; letter-spacing:0.18em; text-transform:uppercase;
            color:rgba(255,255,255,0.8); margin-bottom:12px;
        }
        .panel-heading { font-size:30px; font-weight:900; line-height:1.1; margin-bottom:16px; }
        .panel-text { font-size:15px; color:rgba(255,255,255,0.85); line-height:1.7; }

        .scroll-content {
            max-height: 200px; overflow-y: auto; padding-right: 15px; margin-bottom: 20px;
            scrollbar-width: thin; scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
        }
        .scroll-content::-webkit-scrollbar { width: 8px; }
        .scroll-content::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); border-radius: 4px; }
        .scroll-content::-webkit-scrollbar-track { background: transparent; }

        .panel-box-right {
            background:rgba(13, 14, 28, 0.95);
            border-radius:24px; border:1px solid rgba(255,255,255,0.12);
            padding:30px; box-shadow:0 24px 60px rgba(0,0,0,0.65); backdrop-filter:blur(12px);
            display: flex; flex-direction: column; justify-content: center;
            transition: transform 0.3s ease;
        }
        .panel-box-right:hover {
            transform: translateY(-5px);
        }

        .price-label {
            font-size:12px; letter-spacing:0.15em; text-transform:uppercase;
            color:rgba(255,255,255,0.6); margin-bottom:10px; font-weight: 700;
        }
        .price-main {
            font-size:38px; font-weight:900; letter-spacing:-0.02em;
            margin-bottom:5px; font-family: 'JetBrains Mono', monospace;
            animation: priceGlow 2s ease-in-out infinite;
        }
        @keyframes priceGlow {
            0%, 100% { text-shadow: 0 0 10px rgba(255, 178, 26, 0.3); }
            50% { text-shadow: 0 0 20px rgba(255, 178, 26, 0.6); }
        }
        .price-change {
            font-size:13px; padding:4px 10px; border-radius:6px;
            font-weight: 700; display:inline-block; margin-bottom:15px;
        }
        .price-change.up { background:rgba(46, 204, 113, 0.2); color:#2ecc71; }
        .price-change.down { background:rgba(231, 76, 60, 0.2); color:#e74c3c; }

        .hero-btns { display:flex; flex-wrap:wrap; gap:10px; }
        .btn {
            display:inline-flex; align-items:center; justify-content:center;
            border-radius:12px; padding:12px 24px; border:none; cursor:pointer;
            font-size:15px; font-weight:700; text-decoration:none; 
            transition: all 0.3s ease;
        }
        .btn:active { transform: scale(0.95); }
        .btn:hover { transform: translateY(-2px); }
        .btn-primary { 
            background:#ffb21a; color:#000; 
            box-shadow:0 10px 30px rgba(255,178,26,0.4);
        }
        .btn-primary:hover { 
            box-shadow:0 15px 40px rgba(255,178,26,0.6);
        }
        .btn-dark { 
            background:rgba(255,255,255,0.1); color:#fff; 
            border:1px solid rgba(255,255,255,0.2);
        }
        .btn-dark:hover { background:rgba(255,255,255,0.2); }

        /* -------- 3. SECTIONS GLOBALES -------- */
        .tokenomics-section { max-width:1300px; margin:0 auto 60px; padding:0 24px; }
        .section-title {
            text-align:center; font-size:28px; font-weight:900;
            margin-bottom:30px; text-transform: uppercase;
            letter-spacing: 0.05em; color: rgba(255,255,255,0.9);
        }

        .dashboard-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }

        .burn-card {
            background: linear-gradient(145deg, rgba(23, 10, 10, 0.9), rgba(36, 12, 12, 0.9));
            border: 1px solid rgba(230, 75, 95, 0.3); border-radius: 24px;
            padding: 30px; text-align: left; position: relative; overflow: hidden;
            box-shadow:0 20px 55px rgba(0,0,0,0.75);
            transition: transform 0.3s ease;
        }
        .burn-card:hover {
            transform: translateY(-5px);
        }
        .burn-title {
            color:#e64b5f; font-weight:800; font-size:14px;
            letter-spacing:2px; text-transform:uppercase; margin-bottom:14px;
        }
        .burn-card p { font-size:13px; color:rgba(255,255,255,0.82); margin:4px 0; }
        .burn-card a { 
            font-size:12px; color:#ffb21a; text-decoration:underline;
            transition: opacity 0.3s;
        }
        .burn-card a:hover { opacity: 0.7; }

        .info-card {
            background: rgba(9,10,22,0.9); border-radius: 24px;
            border: 1px solid rgba(255,255,255,0.16); padding: 30px;
            display: flex; flex-direction: column; justify-content: center;
            box-shadow:0 20px 55px rgba(0,0,0,0.75);
            transition: transform 0.3s ease;
        }
        .info-card:hover {
            transform: translateY(-5px);
        }
        .supply-row {
            display:flex; justify-content:space-between; align-items:center;
            border-bottom:1px solid rgba(255,255,255,0.1);
            padding-bottom:15px; margin-bottom:15px;
        }
        .supply-label { font-size:13px; color:rgba(255,255,255,0.6); text-transform:uppercase; font-weight: 600; }
        .supply-val { font-size:16px; font-weight:800; }

        .locks-row { display:flex; gap:10px; margin-bottom:14px; }
        .lock-btn {
            flex:1; background: rgba(46, 204, 113, 0.15);
            border: 1px solid rgba(46, 204, 113, 0.4);
            color: #2ecc71; padding: 10px; border-radius: 8px;
            font-size: 12px; font-weight: 700;
            text-align: center; transition: all 0.3s; text-decoration:none;
        }
        .lock-btn:hover {
            background: rgba(46, 204, 113, 0.25);
            box-shadow: 0 0 15px rgba(46, 204, 113, 0.2);
            transform: translateY(-2px);
        }

        .contract-box {
            background: rgba(0,0,0,0.4); padding: 12px; border-radius: 8px;
            font-family: 'JetBrains Mono', monospace; font-size: 11px;
            color: rgba(255,255,255,0.7);
            word-break: break-all; border: 1px dashed rgba(255,255,255,0.2); text-align: center;
            margin-bottom:10px;
        }
        .tax-list {
            margin-top:15px; font-size:13px; color:rgba(255,255,255,0.8);
            display:flex; justify-content: space-around;
        }
        .tax-item { text-align: center; }
        .tax-item span { display:block; font-size:18px; font-weight:700; color:#ffb21a; }

        /* SECTION LIENS */
        .links-section { max-width:1300px; margin:0 auto 40px; padding:0 24px; }
        .links-card {
            background:rgba(9,10,22,0.9); border-radius:24px; border:1px solid rgba(255,255,255,0.16);
            padding:20px 24px; box-shadow:0 18px 45px rgba(0,0,0,0.7);
        }
        .links-title { font-size:18px; font-weight:800; margin-bottom:12px; }
        .links-chips { display:flex; flex-wrap:wrap; gap:10px; font-size:13px; }
        .link-chip {
            padding:8px 14px; border-radius:999px;
            background:rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.25);
            transition: all 0.3s ease;
        }
        .link-chip:hover {
            background:rgba(255,178,26,0.2);
            border-color:#ffb21a;
            transform: translateY(-2px);
        }

        /* SECTIONS √âV√âNEMENTS / ROADMAP / FAQ */
        .cards-grid {
            max-width:1300px; margin:0 auto 40px; padding:0 24px;
            display:grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); gap:20px;
        }
        .card-block {
            background:rgba(9,10,22,0.9); border-radius:20px;
            border:1px solid rgba(255,255,255,0.16);
            padding:20px 22px; box-shadow:0 14px 40px rgba(0,0,0,0.65);
            transition: all 0.3s ease;
        }
        .card-block:hover {
            transform: translateY(-5px);
            box-shadow:0 20px 50px rgba(0,0,0,0.8);
            border-color:rgba(255,178,26,0.3);
        }
        .card-block h3 { font-size:17px; font-weight:800; margin-bottom:8px; color:#ffb21a; }
        .card-tag {
            display:inline-block; font-size:11px; padding:2px 8px;
            border-radius:999px; border:1px solid rgba(255,255,255,0.25);
            margin-bottom:8px; opacity:0.85;
        }
        .card-date { font-size:12px; opacity:0.75; margin-bottom:8px; }
        .card-block p { font-size:13px; line-height:1.5; opacity:0.9; }

        .faq-item { margin-bottom:16px; }
        .faq-q { font-weight:700; font-size:14px; margin-bottom:4px; }
        .faq-a { font-size:13px; opacity:0.9; }

        /* Media Queries */
        @media (max-width:1200px) { .hero-grid { grid-template-columns: 1fr 1fr; } }
        @media (max-width:960px) {
            .hero { padding-top:190px; }
            .hero-grid { grid-template-columns:minmax(0,1fr); }
            .dashboard-grid { grid-template-columns: 1fr; }
            .event-banner { margin-top:112px; font-size:0.85rem; padding:8px 10px; }
        }

        footer {
            max-width:1300px; margin:0 auto 60px; padding:12px 24px;
            font-size:11px; color:rgba(255,255,255,0.75); text-align:center;
            text-shadow:0 0 10px rgba(0,0,0,0.8);
        }
    </style>
</head>

<body data-lang="fr">

    <!-- Canvas pour effets m√©t√©o intelligents -->
    <canvas id="weather-canvas"></canvas>

    <!-- ISS TRACKER (NOUVEAU!) -->
    <div class="iss-tracker" id="iss-tracker">
        <div class="iss-header">
            <div class="iss-icon">üõ∞Ô∏è</div>
            <div class="iss-title">ISS EN DIRECT</div>
        </div>
        <div class="iss-data">
            <div class="iss-row">
                <span class="iss-label">Altitude:</span>
                <span class="iss-value" id="iss-altitude">---</span>
            </div>
            <div class="iss-row">
                <span class="iss-label">Vitesse:</span>
                <span class="iss-value" id="iss-velocity">---</span>
            </div>
            <div class="iss-row">
                <span class="iss-label">Position:</span>
                <span class="iss-value" id="iss-position">---</span>
            </div>
            <div class="iss-distance">
                <div class="iss-label" style="margin-bottom:4px;">Distance de vous</div>
                <div class="iss-distance-value" id="iss-distance">Calcul...</div>
            </div>
            <div class="iss-astronauts" id="iss-astronauts">
                <div class="iss-label" style="margin-bottom:6px;">üë®‚ÄçüöÄ √Ä bord actuellement:</div>
            </div>
        </div>
    </div>

    <!-- PANNEAU STATISTIQUES SPATIALES -->
    <div class="space-stats-panel" id="space-stats">
        <div class="space-stats-title">
            <span>üåå</span>
            <span>STATISTIQUES SPATIALES</span>
        </div>
        <div class="stat-item">
            <div class="stat-label">Personnes dans l'espace</div>
            <div class="stat-value" id="stat-people-in-space">---</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">Missions actives</div>
            <div class="stat-value" id="stat-active-missions">---</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">Prochaine pleine lune</div>
            <div class="stat-value" id="stat-next-fullmoon">---</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">Temps syst√®me</div>
            <div class="stat-value" id="stat-local-time">---</div>
        </div>
    </div>

    <!-- Indicateur de chargement IA (Am√©lior√©) -->
    <div class="ai-loading" id="ai-loading">
        <div class="ai-loading-header">
            <div class="ai-spinner"></div>
            <span class="ai-status">IA LUMA</span>
        </div>
        <div class="ai-details" id="ai-details">Initialisation...</div>
    </div>

    <!-- Banni√®re d'actualit√©s spatiales -->
    <div class="space-news-banner" id="space-news-banner">
        <div class="space-news-content">
            <div class="space-news-icon">üöÄ</div>
            <div class="space-news-text">
                <div class="space-news-title" id="space-news-title">Actualit√©s spatiales</div>
                <div id="space-news-description">Chargement des derni√®res nouvelles de l'espace...</div>
                <div class="space-news-source" id="space-news-source"></div>
            </div>
            <button class="space-news-close" onclick="closeSpaceNews()">‚úï</button>
        </div>
    </div>

    <header>
        <div class="brand">
            <div class="brand-logo"><img src="Luma-noel-logo.png" alt="LUMA logo" /></div>
            <div class="brand-name">Lunar&Mars</div>
        </div>
        <nav class="nav">
            <a href="#hero" class="translatable" data-en="About" data-fr="√Ä propos">√Ä propos</a>
            <a href="#luma-stats" class="translatable" data-en="Stats" data-fr="Statistiques">Statistiques</a>
            <a href="#tokenomics" class="translatable" data-en="Tokenomics" data-fr="Tokenomics">Tokenomics</a>
            <a href="#events" class="translatable" data-en="Events" data-fr="√âv√©nements">√âv√©nements</a>
            <a href="#roadmap" class="translatable" data-en="Roadmap" data-fr="Feuille de route">Feuille de route</a>
            <a href="#faq" class="translatable" data-en="FAQ" data-fr="FAQ">FAQ</a>
            <a href="#" id="open-game-nav" class="translatable" data-en="Game" data-fr="Jeu">Jeu</a>
            <a href="#links" class="translatable" data-en="Links" data-fr="Liens">Liens</a>
        </nav>
        <div class="lang-switch">
            <button id="lang-en" onclick="setLanguage('en')">EN</button>
            <button id="lang-fr" onclick="setLanguage('fr')" class="active">FR</button>
        </div>
    </header>

    <div class="ticker">
        <div class="ticker-inner"><div class="ticker-track" id="ticker-track">Loading...</div></div>
    </div>

    <!-- Banni√®re √âv√©nement Dynamique (Intelligente) -->
    <div class="event-banner" id="event-banner">
        üéÜ‚ú® Chargement des √©v√©nements...
    </div>

    <main>
        <!-- HERO -->
        <section class="hero" id="hero">
            <h1 class="hero-title translatable" data-en="WHAT IS LUMA?" data-fr="QU'EST-CE QUE LUMA ?">QU'EST-CE QUE LUMA ?</h1>

            <div class="hero-grid">
                <article class="panel">
                    <div class="panel-title-small translatable" data-en="LUMA IN ONE SENTENCE" data-fr="LUMA EN UNE PHRASE">LUMA EN UNE PHRASE</div>

                    <div class="panel-heading translatable" data-en="LUMA IS A COMMUNITY TOKEN DESIGNED FOR THE MOON ‚Üí MARS FUTURE." data-fr="LUMA EST UN JETON COMMUNAUTAIRE PENS√â POUR L'AVENIR LUNE ‚Üí MARS.">
                        LUMA EST UN JETON COMMUNAUTAIRE PENS√â POUR L'AVENIR LUNE ‚Üí MARS.
                    </div>

                    <div class="panel-text scroll-content">
                        <span class="translatable"
                            data-en="Lunar&amp;Mars (LUMA) is a BEP-20 token deployed on the BNB Smart Chain. It is designed as a symbolic representation of humanity's future transition from a stable presence on the Moon toward the ambition of establishing colonies on Mars. The project's vision is simple: symbolically represent the imaginary corridor between the Moon and Mars. LUMA is not a speculative asset; it is a conceptual, community-driven, and educational token meant to inspire interest in space technologies, decentralization, and future interplanetary projects. It serves as an emblem for those who wish to support, symbolically, the initiatives linked to space exploration and futuristic innovation. The project is not intended to generate profit, but rather to unite a community around a shared vision of a space-oriented future. It is important to note that LUMA is not a financial instrument for speculation, but a symbolic and community project."
                            data-fr="Lunar&amp;Mars (LUMA) est un jeton BEP-20 d√©ploy√© sur la BNB Smart Chain. Il est con√ßu comme un symbole de la transition future entre la pr√©sence humaine sur la Lune et l'√©tablissement √©ventuel de colonies sur Mars. La vision du projet repose sur l'id√©e simple de repr√©senter symboliquement le corridor imaginaire entre la Lune et Mars. LUMA n'est pas un actif sp√©culatif : il s'agit d'un jeton conceptuel, communautaire et √©ducatif, destin√© √† inspirer la r√©flexion autour des technologies spatiales, de la d√©centralisation et des futurs projets interplan√©taires. Il sert d'embl√®me pour ceux qui souhaitent encourager ou soutenir, de mani√®re symbolique, les initiatives li√©es √† l'exploration spatiale et aux innovations futuristes. Le projet n'a pas pour but de g√©n√©rer un profit, mais d'unir une communaut√© autour d'une vision commune de l'avenir spatial. Il est important de noter que LUMA n'est pas un instrument financier destin√© √† la sp√©culation, mais un projet symbolique et communautaire."
                        >
                            Lunar&Mars (LUMA) est un jeton BEP-20 d√©ploy√© sur la BNB Smart Chain. Il s'agit d'un jeton conceptuel, communautaire et √©ducatif, destin√© √† inspirer la r√©flexion autour de l'exploration spatiale et de la d√©centralisation. La vision du projet repose sur l'id√©e simple de repr√©senter symboliquement le corridor imaginaire entre la Lune et Mars. Il sert d'embl√®me pour ceux qui souhaitent encourager ou soutenir, de mani√®re symbolique, les initiatives li√©es √† l'exploration spatiale et aux innovations futuristes. Le projet n'a pas pour but de g√©n√©rer un profit, mais d'unir une communaut√© autour d'une vision commune de l'avenir spatial. Il est important de noter que LUMA n'est pas un instrument financier destin√© √† la sp√©culation, mais un projet symbolique et communautaire.
                        </span>
                    </div>

                    <div class="hero-btns">
                        <a href="luma-airdrop.html" target="_blank" class="btn btn-primary">airdrop</a>
                        <a href="LUMA_Whitepaper_v1.1.pdf" target="_blank" class="btn btn-primary">Whitepaper</a>
                        <a href="https://t.me/LunarMarsOfficial" target="_blank" class="btn btn-dark">Telegram</a>
                        <a href="https://x.com/LunarMarsToken" target="_blank" class="btn btn-dark">X (Twitter)</a>
                        <button type="button" class="btn btn-primary" onclick="openGamePopup()">Jeu LUMA</button>
                    </div>
                </article>

                <div class="panel-box-right">
                    <div class="price-label">MARKET DATA</div>
                    <div id="luma-price" class="price-main">$0.000000000</div>
                    <div id="luma-change" class="price-change">0.00%</div>

                    <div style="margin-bottom:20px; font-size:13px; color:rgba(255,255,255,0.5);">
                        Pool: LUMA / WBNB (PancakeSwap v3)
                    </div>

                    <a href="https://www.mexc.com/dex/trade?pair_ca=0xc4ce7c692fdd27603437199c9b40baf5e2b804e6&chain_id=56&token_ca=0xea6c0908734d7cadc10c01b2e4e9d8e1664eecc9&inviteCode=1489J"
                       target="_blank" class="btn btn-primary" style="width:100%">
                       Acheter sur MEXC
                    </a>
                    <a href="https://www.geckoterminal.com/bsc/pools/0xc4ce7c692fdd27603437199c9b40baf5e2b804e6"
                       target="_blank" class="btn btn-dark" style="width:100%; margin-top:10px;">
                       Voir le graphique
                    </a>
                </div>
            </div>
        </section>

        <!-- LUMA HUB ‚Äì Acc√®s rapide -->
        <section id="luma-hub" style="max-width: 1300px; margin: 0 auto 50px; padding: 0 24px;">
            <div style="max-width: 800px; margin: 0 auto; padding: 24px; border-radius: 24px; border: 1px solid rgba(255,255,255,0.18); background: rgba(5,8,22,0.92); box-shadow: 0 24px 60px rgba(0,0,0,0.75);">
                <h2 style="text-align: center; margin-bottom: 16px; font-size: 1.8rem; font-weight: 900; letter-spacing: 0.08em; text-transform: uppercase;">
                    LUMA ‚Äì Acc√®s rapide
                </h2>
                <p style="text-align: center; margin-bottom: 24px; font-size: 0.98rem; line-height: 1.6; color: rgba(255,255,255,0.9);">
                    Un seul endroit pour tout : acheter LUMA, l'ajouter dans MetaMask, v√©rifier le contrat et suivre le prix.
                </p>

                <!-- Bouton principal : achat direct PancakeSwap -->
                <div style="display: flex; justify-content: center; margin-bottom: 14px;">
                    <a href="https://pancakeswap.finance/swap?outputCurrency=0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9&chainId=56"
                       target="_blank"
                       style="display: inline-block; padding: 14px 28px; border-radius: 999px; text-decoration: none; font-weight: 600; font-size: 1rem; background: linear-gradient(135deg,#f97316,#e11d48); color: #fff; box-shadow: 0 0 18px rgba(249,115,22,0.4);">
                        üöÄ Buy LUMA on PancakeSwap
                    </a>
                </div>

                <!-- Bouton : Ajouter √† MetaMask -->
                <div style="display:flex; justify-content:center; margin-bottom: 16px;">
                    <button id="add-luma-metamask"
                            style="padding:10px 20px; border-radius:999px; border:1px solid rgba(255,255,255,0.3);
                                   background:rgba(0,0,0,0.6); color:#fff; font-size:0.9rem; cursor:pointer;">
                        ü¶ä Add LUMA to MetaMask
                    </button>
                </div>

                <!-- Contrat + copie -->
                <p style="margin-top: 10px; font-size: 0.8rem; color:#a1a1aa; text-align: center;">
                    Contract address (BNB Smart Chain) :<br>
                    <code style="font-size: 0.8rem; word-break: break-all;">
                        0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9
                    </code>
                </p>
                <div style="margin-top: 8px; text-align:center;">
                    <button id="copy-contract"
                            style="padding:8px 16px; border-radius:999px; border:1px solid rgba(255,255,255,0.4);
                                   background:rgba(0,0,0,0.7); color:#fff; font-size:0.8rem; cursor:pointer;">
                        üìã Copier l'adresse du contrat
                    </button>
                </div>
                <p id="copy-feedback"
                   style="display:none; margin-top:6px; font-size:0.75rem; color:#4ade80; text-align:center;">
                    Adresse copi√©e dans le presse-papiers.
                </p>

                <!-- Liens secondaires : tout centralis√© -->
                <div style="margin-top:18px; display: grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap: 12px;">
                    <a href="https://bscscan.com/token/0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9"
                       target="_blank"
                       style="padding: 10px 14px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.25); text-decoration: none; font-size: 0.9rem; background:#09090b; color:#e5e5e5;">
                        üìú Contrat officiel LUMA (BscScan)
                    </a>

                    <a href="https://www.geckoterminal.com/bsc/pools/0xc4ce7c692fdd27603437199c9b40baf5e2b804e6"
                       target="_blank"
                       style="padding: 10px 14px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.25); text-decoration: none; font-size: 0.9rem; background:#09090b; color:#e5e5e5;">
                        üìà Suivre le prix & la liquidit√©
                    </a>

                    <a href="https://t.me/LunarMarsOfficial"
                       target="_blank"
                       style="padding: 10px 14px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.25); text-decoration: none; font-size: 0.9rem; background:#09090b; color:#e5e5e5;">
                        üí¨ Rejoindre la communaut√© Telegram
                    </a>

                    <a href="https://x.com/LunarMarsToken"
                       target="_blank"
                       style="padding: 10px 14px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.25); text-decoration: none; font-size: 0.9rem; background:#09090b; color:#e5e5e5;">
                        üß° Profil officiel X (LUMA)
                    </a>
                </div>
            </div>
        </section>

        <!-- STATS LUMA -->
        <section id="luma-stats" class="tokenomics-section">
            <h2 class="section-title">LUMA ‚Äì Statistiques Officielles</h2>

            <div style="
                max-width: 1100px;
                margin: 0 auto;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                gap: 20px;
            ">
                <!-- HOLDERS -->
                <div style="
                    background: rgba(9,10,22,0.9);
                    padding: 24px;
                    border-radius: 20px;
                    border: 1px solid rgba(255,255,255,0.15);
                    text-align: center;
                    box-shadow: 0 8px 30px rgba(0,0,0,0.55);
                ">
                    <h3 style="color:#ffb21a; font-size:18px; font-weight:800;">Holders</h3>
                    <div id="stat-holders" style="font-size:32px; font-weight:900; margin-top:8px;">
                        600+
                    </div>
                    <p style="font-size:12px; opacity:0.7; margin-top:4px;">Source : BscScan</p>
                </div>

                <!-- TRANSFERS -->
                <div style="
                    background: rgba(9,10,22,0.9);
                    padding: 24px;
                    border-radius: 20px;
                    border: 1px solid rgba(255,255,255,0.15);
                    text-align: center;
                    box-shadow: 0 8px 30px rgba(0,0,0,0.55);
                ">
                    <h3 style="color:#ffb21a; font-size:18px; font-weight:800;">Transferts</h3>
                    <div id="stat-tx-24h" style="font-size:32px; font-weight:900; margin-top:8px;">
                        ‚Äî
                    </div>
                    <p style="font-size:12px; opacity:0.7; margin-top:4px;">Nombre total de transferts (info √† venir)</p>
                </div>

                <!-- MARKET CAP -->
                <div style="
                    background: rgba(9,10,22,0.9);
                    padding: 24px;
                    border-radius: 20px;
                    border: 1px solid rgba(255,255,255,0.15);
                    text-align: center;
                    box-shadow: 0 8px 30px rgba(0,0,0,0.55);
                ">
                    <h3 style="color:#ffb21a; font-size:18px; font-weight:800;">Market Cap</h3>
                    <div id="stat-mcap" style="font-size:32px; font-weight:900; margin-top:8px;">
                        ‚Äî
                    </div>
                    <p style="font-size:12px; opacity:0.7; margin-top:4px;">Calcul√© en direct : prix √ó supply</p>
                </div>

                <!-- TOTAL SUPPLY -->
                <div style="
                    background: rgba(9,10,22,0.9);
                    padding: 24px;
                    border-radius: 20px;
                    border: 1px solid rgba(255,255,255,0.15);
                    text-align: center;
                    box-shadow: 0 8px 30px rgba(0,0,0,0.55);
                ">
                    <h3 style="color:#ffb21a; font-size:18px; font-weight:800;">Total Supply</h3>
                    <div id="stat-supply" style="font-size:28px; font-weight:900; margin-top:8px;">
                        202 845 959 LUMA
                    </div>
                    <p style="font-size:12px; opacity:0.7; margin-top:4px;">Apr√®s burn initial</p>
                </div>
            </div>

            <p style="text-align:center; margin-top:20px; font-size:11px; opacity:0.6;">
                Donn√©es calcul√©es en direct √† partir de GeckoTerminal (prix) et de la supply fixe LUMA.
            </p>
        </section>

        <!-- TOKENOMICS / MISSION CONTROL -->
        <section id="tokenomics" class="tokenomics-section">
            <h2 class="section-title">Mission Control</h2>

            <div class="dashboard-grid">
                <!-- BURN / LOCK / OWNERSHIP SUMMARY -->
                <div class="burn-card">
                    <div class="burn-title">üî• LUMA SECURITY STATUS</div>

                    <p><strong>üî• Burn 10 % :</strong> 22 538 440 LUMA br√ªl√©s de fa√ßon permanente.</p>
                    <p>
                        Tx Burn :
                        <a href="https://bscscan.com/tx/0x4b8a548ebe8a599c66b59915d7413549a601ae5c2e6c5e7c0c0baf9214f15a17" target="_blank">
                            voir sur BscScan
                        </a>
                    </p>

                    <p><strong>üîí Supply verrouill√© ‚âà 10 % :</strong> 22 219 850 LUMA lock√©s sur PinkLock V2.</p>
                    <p>
                        Lock #1 :
                        <a href="https://www.pinksale.finance/pinklock/bsc/record/1389151" target="_blank">record 1389151</a><br/>
                        Lock #2 :
                        <a href="https://www.pinksale.finance/pinklock/bsc/record/1391827" target="_blank">record 1391827</a>
                    </p>

                    <p><strong>üíß Liquidit√© LUMA/WBNB verrouill√©e :</strong> LP tokens lock√©s pour 1 an sur PinkLock.</p>
                    <p>
                        LP Lock :
                        <a href="https://www.pinksale.finance/pinklock/bsc/record/1408517" target="_blank">
                            voir le lock LP (record 1408517)
                        </a>
                    </p>

                    <p><strong>üßæ Ownership renonc√© :</strong> contrat d√©sormais immuable, sans propri√©taire, sans mint.</p>
                    <p>
                        Tx Ownership :
                        <a href="https://bscscan.com/tx/0xfdbae1139fdbbba8c5ffe63c4b7b90cee096fc0147ae27ef035fa2c68970e772" target="_blank">
                            voir sur BscScan
                        </a>
                    </p>
                </div>

                <div class="info-card">
                    <div class="supply-row">
                        <span class="supply-label">Total Supply</span>
                        <span class="supply-val">202 845 959 LUMA</span>
                    </div>

                    <div class="locks-row">
                        <a href="https://www.pinksale.finance/pinklock/bsc/record/1389151" target="_blank" class="lock-btn">
                            üîí PinkLock #1
                        </a>
                        <a href="https://www.pinksale.finance/pinklock/bsc/record/1391827" target="_blank" class="lock-btn">
                            üîí PinkLock #2
                        </a>
                    </div>

                    <div class="contract-box">
                        0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9<br/>
                        Ownership: Renounced ‚Äì Immutable Contract
                    </div>

                    <div style="font-size:12px; margin-bottom:10px; text-align:center;">
                        üëÄ Top holders en temps r√©el :
                        <a href="https://bscscan.com/token/0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9#balances" target="_blank" style="color:#ffb21a; text-decoration:underline;">
                            voir sur BscScan
                        </a>
                    </div>

                    <div class="tax-list">
                        <div class="tax-item"><span>0%</span> Dev</div>
                        <div class="tax-item"><span>0%</span> Liq</div>
                        <div class="tax-item"><span>0%</span> Tax</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- √âV√âNEMENTS -->
        <section id="events">
            <h2 class="section-title">√âv√©nements LUMA</h2>
            <div class="cards-grid">
                <div class="card-block">
                    <span class="card-tag">En cours</span>
                    <h3>Airdrop de No√´l ‚Äì LUMA Christmas Drop</h3>
                    <div class="card-date">D√©cembre 2025</div>
                    <p>
                        Distribution sp√©ciale de LUMA aux premiers holders et membres actifs de la communaut√©.
                        Objectif : r√©compenser les pionniers et augmenter le nombre de portefeuilles uniques.
                    </p>
                </div>

                <div class="card-block">
                    <span class="card-tag">Termin√©</span>
                    <h3>Round 3 ‚Äì Community Drop</h3>
                    <div class="card-date">Automne 2025</div>
                    <p>
                        Plusieurs vagues de distribution cibl√©e sur X et Telegram afin de construire un socle de vrais holders,
                        sans bots, ni airdrop farming massif.
                    </p>
                </div>

                <div class="card-block">
                    <span class="card-tag">√Ä venir</span>
                    <h3>LUMA Arcade Challenges</h3>
                    <div class="card-date">2025</div>
                    <p>
                        Tournois autour du jeu LUMA : highscore, d√©fis communautaires, r√©compenses symboliques en LUMA
                        pour les meilleurs joueurs et cr√©ateurs de contenu.
                    </p>
                </div>
            </div>
        </section>

        <!-- ROADMAP -->
        <section id="roadmap">
            <h2 class="section-title">Feuille de route</h2>
            <div class="cards-grid">
                <div class="card-block">
                    <h3>Phase 1 ‚Äì Lancement Orbital</h3>
                    <ul style="font-size:13px; line-height:1.6; padding-left:18px; margin-top:6px;">
                        <li>D√©ploiement du contrat LUMA sur BNB Smart Chain</li>
                        <li>Burn initial + locks sur PinkLock</li>
                        <li>Cr√©ation des canaux X & Telegram</li>
                        <li>Publication du Whitepaper v1</li>
                    </ul>
                </div>
                <div class="card-block">
                    <h3>Phase 2 ‚Äì Construction de l'√©quipage</h3>
                    <ul style="font-size:13px; line-height:1.6; padding-left:18px; margin-top:6px;">
                        <li>Airdrops cibl√©s pour vrais holders</li>
                        <li>Lancement du site officiel Lunar&Mars</li>
                        <li>Int√©gration du jeu LUMA Arcade</li>
                        <li>Suivi transparent des stats on-chain</li>
                    </ul>
                </div>
                <div class="card-block">
                    <h3>Phase 3 ‚Äì Expansion Lunaire</h3>
                    <ul style="font-size:13px; line-height:1.6; padding-left:18px; margin-top:6px;">
                        <li>R√©f√©rencements sur suivis de prix (trackers)</li>
                        <li>Partenariats communautaires Web3 / mining</li>
                        <li>Outils p√©dagogiques sur la d√©centralisation</li>
                        <li>√âv√©nements en ligne et concours</li>
                    </ul>
                </div>
                <div class="card-block">
                    <h3>Phase 4 ‚Äì Corridor Lune ‚Üí Mars</h3>
                    <ul style="font-size:13px; line-height:1.6; padding-left:18px; margin-top:6px;">
                        <li>D√©veloppement d'un √©cosyst√®me symbolique entre Moon & Mars</li>
                        <li>Utilisation de LUMA dans des projets cr√©atifs (jeu, art, musique)</li>
                        <li>Renforcement de la gouvernance communautaire</li>
                        <li>√âvolution du Whitepaper selon les id√©es de la communaut√©</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- FAQ -->
        <section id="faq">
            <h2 class="section-title">FAQ ‚Äì Questions fr√©quentes</h2>
            <div class="cards-grid">
                <div class="card-block">
                    <div class="faq-item">
                        <div class="faq-q">LUMA est-il un projet de pump & dump ?</div>
                        <div class="faq-a">
                            Non. LUMA est un jeton symbolique, communautaire et √©ducatif.
                            L'objectif principal est de rassembler des passionn√©s autour d'une vision Lune ‚Üí Mars, pas de
                            promettre un enrichissement rapide.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-q">Sur quelle blockchain est d√©ploy√© LUMA ?</div>
                        <div class="faq-a">
                            LUMA est un jeton BEP-20 sur la BNB Smart Chain. Le contrat est public, v√©rifi√© et l'ownership est renonc√©.
                        </div>
                    </div>
                </div>

                <div class="card-block">
                    <div class="faq-item">
                        <div class="faq-q">Comment acheter LUMA ?</div>
                        <div class="faq-a">
                            Connectez votre wallet (ex. MetaMask) au r√©seau BNB Smart Chain, puis utilisez le bouton
                            ¬´ Buy LUMA on PancakeSwap ¬ª ou le lien MEXC DEX sur cette page.
                            V√©rifiez toujours l'adresse du contrat avant d'acheter.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-q">Puis-je ajouter LUMA dans MetaMask facilement ?</div>
                        <div class="faq-a">
                            Oui, utilisez le bouton ¬´ Add LUMA to MetaMask ¬ª. Votre navigateur doit avoir une extension
                            compatible (MetaMask). Le jeton appara√Ætra ensuite dans votre liste d'actifs.
                        </div>
                    </div>
                </div>

                <div class="card-block">
                    <div class="faq-item">
                        <div class="faq-q">Est-ce un conseil financier ?</div>
                        <div class="faq-a">
                            Non. Rien sur ce site ou dans les communications LUMA ne constitue un conseil financier ou
                            d'investissement. Chacun reste responsable de ses propres d√©cisions.
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-q">Comment suivre la croissance du projet ?</div>
                        <div class="faq-a">
                            Vous pouvez consulter les stats sur cette page (holders, transferts, supply),
                            suivre les √©v√©nements list√©s, et v√©rifier en temps r√©el sur BscScan, GeckoTerminal, X et Telegram.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- LIENS & COMMUNAUT√â -->
        <section id="links" class="links-section">
            <div class="links-card">
                <h2 class="links-title translatable" data-en="Links & Community" data-fr="Liens & Communaut√©">Liens & Communaut√©</h2>
                <div class="links-chips">
                    <a class="link-chip" href="https://bscscan.com/token/0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9" target="_blank" rel="noopener noreferrer">BscScan</a>
                    <a class="link-chip" href="https://www.geckoterminal.com/bsc/pools/0xc4ce7c692fdd27603437199c9b40baf5e2b804e6" target="_blank" rel="noopener noreferrer">GeckoTerminal</a>
                    <a class="link-chip" href="https://www.mexc.com/dex/trade?pair_ca=0xc4ce7c692fdd27603437199c9b40baf5e2b804e6&chain_id=56&token_ca=0xea6c0908734d7cadc10c01b2e4e9d8e1664eecc9&inviteCode=1489J" target="_blank" rel="noopener noreferrer">MEXC DEX</a>
                    <a class="link-chip" href="LUMA_Whitepaper_v1.1.pdf" target="_blank" rel="noopener noreferrer">Whitepaper</a>
                    <a class="link-chip" href="https://x.com/LunarMarsToken" target="_blank" rel="noopener noreferrer">X ‚Äì @LunarMarsToken</a>
                    <a class="link-chip" href="https://t.me/LunarMarsOfficial" target="_blank" rel="noopener noreferrer">Telegram</a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <span class="translatable" data-en="LUMA is a symbolic community token on BNB Smart Chain. Nothing here is financial or investment advice. Follow us on X: @LunarMarsToken." data-fr="LUMA est un jeton communautaire symbolique sur BNB Smart Chain. Rien ici n'est un conseil financier ou d'investissement. Suivez-nous sur X : @LunarMarsToken.">
            LUMA est un jeton communautaire symbolique sur BNB Smart Chain. Rien ici n'est un conseil financier ou d'investissement. Suivez-nous sur X : @LumarMarsToken.
        </span>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const CONTRACT_ADDRESS   = '0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9';
        const TOTAL_SUPPLY_LUMA  = 202845959;
        let   lumaPriceUsd       = null;
        let   lumaSupply         = TOTAL_SUPPLY_LUMA;
        let   userLocation       = null;

        // ============================================
        // SYST√àME ULTRA-DYNAMIQUE POUR LUMA
        // ============================================

        class LumaUltraDynamicSystem {
            constructor() {
                this.canvas = document.getElementById('weather-canvas');
                this.ctx = this.canvas ? this.canvas.getContext('2d') : null;
                this.particles = [];
                this.currentEffect = 'none';
                this.currentLang = 'fr';
                
                if (this.canvas) {
                    this.initCanvas();
                }
                this.initSystems();
            }

            getCurrentLanguage() {
                return document.body.getAttribute('data-lang') || 'fr';
            }

            initCanvas() {
                this.resizeCanvas();
                window.addEventListener('resize', () => this.resizeCanvas());
            }

            resizeCanvas() {
                if (this.canvas) {
                    this.canvas.width = window.innerWidth;
                    this.canvas.height = window.innerHeight;
                }
            }

            async initSystems() {
                console.log('üöÄ Initialisation du syst√®me LUMA Ultra-Dynamique...');
                
                // Obtenir la position de l'utilisateur
                this.getUserLocation();
                
                // Lancer tous les syst√®mes
                Promise.all([
                    this.analyzeSeasonAndEvents(),
                    this.fetchSpaceNews(),
                    this.initISSTracker(),
                    this.initSpaceStats()
                ]).then(() => {
                    console.log('‚úÖ Tous les syst√®mes LUMA initialis√©s');
                });

                // Mises √† jour p√©riodiques
                setInterval(() => this.analyzeSeasonAndEvents(), 3600000); // 1h
                setInterval(() => this.fetchSpaceNews(), 1800000); // 30min
                setInterval(() => this.updateISSPosition(), 10000); // 10s
                setInterval(() => this.updateSpaceStats(), 60000); // 1min
                setInterval(() => this.updateLocalTime(), 1000); // 1s
            }

            getUserLocation() {
                if ('geolocation' in navigator) {
                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            userLocation = {
                                lat: position.coords.latitude,
                                lon: position.coords.longitude
                            };
                            console.log('üìç Position utilisateur:', userLocation);
                        },
                        (error) => {
                            // Fallback: Drummondville, QC
                            userLocation = { lat: 45.8817, lon: -72.4842 };
                            console.log('üìç Position par d√©faut (Drummondville)');
                        }
                    );
                } else {
                    userLocation = { lat: 45.8817, lon: -72.4842 };
                }
            }

            async initISSTracker() {
                this.updateISSPosition();
                this.fetchAstronauts();
            }

            async updateISSPosition() {
                try {
                    const res = await fetch('https://api.wheretheiss.at/v1/satellites/25544');
                    const data = await res.json();
                    
                    document.getElementById('iss-altitude').textContent = 
                        `${Math.round(data.altitude)} km`;
                    document.getElementById('iss-velocity').textContent = 
                        `${Math.round(data.velocity)} km/h`;
                    document.getElementById('iss-position').textContent = 
                        `${data.latitude.toFixed(2)}¬∞, ${data.longitude.toFixed(2)}¬∞`;
                    
                    // Calculer la distance
                    if (userLocation) {
                        const distance = this.calculateDistance(
                            userLocation.lat, userLocation.lon,
                            data.latitude, data.longitude
                        );
                        document.getElementById('iss-distance').textContent = 
                            `${Math.round(distance)} km`;
                    }
                } catch (e) {
                    console.error('Erreur ISS:', e);
                }
            }

            async fetchAstronauts() {
                try {
                    const res = await fetch('http://api.open-notify.org/astros.json');
                    const data = await res.json();
                    
                    const issAstronauts = data.people.filter(p => p.craft === 'ISS');
                    const container = document.getElementById('iss-astronauts');
                    
                    issAstronauts.forEach(astro => {
                        const div = document.createElement('div');
                        div.className = 'iss-astronaut';
                        div.textContent = `‚Ä¢ ${astro.name}`;
                        container.appendChild(div);
                    });
                    
                    document.getElementById('stat-people-in-space').textContent = 
                        data.number;
                } catch (e) {
                    console.error('Erreur astronautes:', e);
                }
            }

            calculateDistance(lat1, lon1, lat2, lon2) {
                const R = 6371; // Rayon de la Terre en km
                const dLat = (lat2 - lat1) * Math.PI / 180;
                const dLon = (lon2 - lon1) * Math.PI / 180;
                const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                         Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                         Math.sin(dLon/2) * Math.sin(dLon/2);
                const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                return R * c;
            }

            async initSpaceStats() {
                this.updateSpaceStats();
                this.updateLocalTime();
                this.calculateNextFullMoon();
            }

            updateSpaceStats() {
                // Nombre de missions actives (estimation)
                document.getElementById('stat-active-missions').textContent = '12+';
            }

            updateLocalTime() {
                const now = new Date();
                const timeStr = now.toLocaleTimeString('fr-FR', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    second: '2-digit'
                });
                document.getElementById('stat-local-time').textContent = timeStr;
            }

            calculateNextFullMoon() {
                // Calcul simplifi√© de la prochaine pleine lune
                const now = new Date();
                const lunarMonth = 29.53;
                const knownFullMoon = new Date('2024-01-25');
                const daysSince = (now - knownFullMoon) / (1000 * 60 * 60 * 24);
                const cyclesSince = Math.floor(daysSince / lunarMonth);
                const nextFullMoon = new Date(knownFullMoon);
                nextFullMoon.setDate(nextFullMoon.getDate() + (cyclesSince + 1) * lunarMonth);
                
                const daysUntil = Math.ceil((nextFullMoon - now) / (1000 * 60 * 60 * 24));
                document.getElementById('stat-next-fullmoon').textContent = 
                    `${daysUntil} jours`;
            }

            showAILoading(show, message = 'Initialisation...') {
                const loader = document.getElementById('ai-loading');
                const details = document.getElementById('ai-details');
                if (loader && details) {
                    details.textContent = message;
                    if (show) {
                        loader.classList.add('active');
                    } else {
                        setTimeout(() => loader.classList.remove('active'), 500);
                    }
                }
            }

            async analyzeSeasonAndEvents() {
                this.showAILoading(true, 'Analyse des √©v√©nements...');
                
                try {
                    const now = new Date();
                    const lang = this.getCurrentLanguage();
                    const isEnglish = lang === 'en';
                    
                    const prompt = isEnglish 
                        ? `You are the AI for LUMA (Lunar&Mars), a space-focused crypto token.

Current date: ${now.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}

Provide ONLY a JSON object (no markdown) with:
{
  "season": "spring|summer|fall|winter",
  "event": {
    "name": "event name",
    "emoji": "emoji",
    "message": "inspiring message (max 100 chars, IN ENGLISH)",
    "gradient": "two CSS colors (format: #hex1, #hex2)"
  },
  "weatherEffect": "rain|stars|meteors|aurora|none",
  "showSnow": false
}

Be creative!`
                        : `Tu es l'IA de LUMA (Lunar&Mars), un token crypto spatial.

Date actuelle: ${now.toLocaleDateString('fr-FR', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}

Fournis UNIQUEMENT un objet JSON (sans markdown) avec:
{
  "season": "spring|summer|fall|winter",
  "event": {
    "name": "nom √©v√©nement",
    "emoji": "emoji",
    "message": "message inspirant (max 100 caract√®res, EN FRAN√áAIS)",
    "gradient": "deux couleurs CSS (format: #hex1, #hex2)"
  },
  "weatherEffect": "rain|stars|meteors|aurora|none",
  "showSnow": false
}

Sois cr√©atif!`;

                    const response = await fetch("https://api.anthropic.com/v1/messages", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                            "anthropic-version": "2023-06-01"
                        },
                        body: JSON.stringify({
                            model: "claude-sonnet-4-20250514",
                            max_tokens: 1000,
                            messages: [{
                                role: "user",
                                content: prompt
                            }]
                        })
                    });

                    if (!response.ok) throw new Error('Erreur API');

                    const data = await response.json();
                    const content = data.content[0].text.trim();
                    const cleanContent = content.replace(/```json\n?|\n?```/g, '').trim();
                    const aiData = JSON.parse(cleanContent);

                    this.updateEventBanner(aiData.event);
                    
                    if (aiData.weatherEffect !== 'none') {
                        this.setWeatherEffect(aiData.weatherEffect);
                    }

                    console.log('‚úÖ √âv√©nements analys√©s');
                } catch (error) {
                    console.error('Erreur analyse:', error);
                    const lang = this.getCurrentLanguage();
                    this.updateEventBanner({
                        name: "LUMA - Moon ‚Üí Mars",
                        emoji: "üöÄ",
                        message: lang === 'en' 
                            ? "The space future starts now"
                            : "Le futur spatial commence maintenant",
                        gradient: "#1e3a8a, #7c3aed"
                    });
                } finally {
                    this.showAILoading(false);
                }
            }

            async fetchSpaceNews() {
                this.showAILoading(true, 'Chargement des actualit√©s...');
                
                const lang = this.getCurrentLanguage();
                const titleEl = document.getElementById('space-news-title');
                const descEl = document.getElementById('space-news-description');
                
                if (titleEl && descEl) {
                    titleEl.textContent = lang === 'en' ? 'Space News' : 'Actualit√©s spatiales';
                    descEl.textContent = lang === 'en' 
                        ? 'Loading...' 
                        : 'Chargement...';
                }
                
                try {
                    const isEnglish = lang === 'en';
                    
                    const prompt = isEnglish
                        ? `You are the AI for LUMA, a space-focused crypto token.

Provide recent space news as JSON (no markdown):
{
  "title": "catchy title (max 80 chars, IN ENGLISH)",
  "description": "description (max 150 chars, IN ENGLISH)",
  "source": "NASA|SpaceX|ESA|etc"
}

Focus on: Mars, Moon, SpaceX, NASA.`
                        : `Tu es l'IA de LUMA, un token crypto spatial.

Fournis une actualit√© spatiale sous forme JSON (sans markdown):
{
  "title": "Titre (max 80 caract√®res, EN FRAN√áAIS)",
  "description": "Description (max 150 caract√®res, EN FRAN√áAIS)",
  "source": "NASA|SpaceX|ESA|etc"
}

Focus sur: Mars, Lune, SpaceX, NASA.`;

                    const response = await fetch("https://api.anthropic.com/v1/messages", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                            "anthropic-version": "2023-06-01"
                        },
                        body: JSON.stringify({
                            model: "claude-sonnet-4-20250514",
                            max_tokens: 500,
                            messages: [{
                                role: "user",
                                content: prompt
                            }]
                        })
                    });

                    if (!response.ok) throw new Error('Erreur API');

                    const data = await response.json();
                    const content = data.content[0].text.trim();
                    const cleanContent = content.replace(/```json\n?|\n?```/g, '').trim();
                    const newsData = JSON.parse(cleanContent);

                    this.updateSpaceNews(newsData);
                    console.log('üì∞ Actualit√©s charg√©es');
                } catch (error) {
                    console.error('Erreur actualit√©s:', error);
                    const lang = this.getCurrentLanguage();
                    this.updateSpaceNews({
                        title: lang === 'en' 
                            ? "Mars Mission in Preparation"
                            : "Mission Mars en pr√©paration",
                        description: lang === 'en'
                            ? "Space agencies prepare for Mars exploration"
                            : "Les agences spatiales pr√©parent l'exploration de Mars",
                        source: "NASA"
                    });
                } finally {
                    this.showAILoading(false);
                }
            }

            setWeatherEffect(effect) {
                if (!this.canvas) return;
                if (this.currentEffect === effect) return;
                
                this.currentEffect = effect;
                this.particles = [];

                switch(effect) {
                    case 'rain':
                        this.createRainParticles();
                        break;
                    case 'stars':
                        this.createStarParticles();
                        break;
                    case 'meteors':
                        this.createMeteorParticles();
                        break;
                    case 'aurora':
                        this.createAuroraEffect();
                        break;
                    default:
                        this.particles = [];
                }

                if (effect !== 'none') {
                    this.animate();
                }
            }

            createRainParticles() {
                for (let i = 0; i < 150; i++) {
                    this.particles.push({
                        x: Math.random() * this.canvas.width,
                        y: Math.random() * this.canvas.height,
                        length: Math.random() * 20 + 10,
                        speed: Math.random() * 5 + 5,
                        opacity: Math.random() * 0.3 + 0.2
                    });
                }
            }

            createStarParticles() {
                for (let i = 0; i < 200; i++) {
                    this.particles.push({
                        x: Math.random() * this.canvas.width,
                        y: Math.random() * this.canvas.height,
                        radius: Math.random() * 2,
                        twinkleSpeed: Math.random() * 0.02 + 0.01,
                        twinkle: Math.random() * Math.PI * 2,
                        opacity: Math.random()
                    });
                }
            }

            createMeteorParticles() {
                for (let i = 0; i < 5; i++) {
                    this.particles.push({
                        x: Math.random() * this.canvas.width,
                        y: -50,
                        length: Math.random() * 80 + 40,
                        speed: Math.random() * 10 + 10,
                        angle: Math.random() * 30 + 30,
                        opacity: 1
                    });
                }
            }

            createAuroraEffect() {
                for (let i = 0; i < 50; i++) {
                    this.particles.push({
                        x: Math.random() * this.canvas.width,
                        y: Math.random() * this.canvas.height * 0.4,
                        wave: Math.random() * Math.PI * 2,
                        waveSpeed: Math.random() * 0.02 + 0.01,
                        color: `hsl(${Math.random() * 60 + 150}, 70%, 50%)`,
                        opacity: Math.random() * 0.3 + 0.1
                    });
                }
            }

            animate() {
                if (!this.canvas || !this.ctx) return;
                
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

                switch(this.currentEffect) {
                    case 'rain':
                        this.animateRain();
                        break;
                    case 'stars':
                        this.animateStars();
                        break;
                    case 'meteors':
                        this.animateMeteors();
                        break;
                    case 'aurora':
                        this.animateAurora();
                        break;
                }

                requestAnimationFrame(() => this.animate());
            }

            animateRain() {
                this.particles.forEach(p => {
                    this.ctx.beginPath();
                    this.ctx.moveTo(p.x, p.y);
                    this.ctx.lineTo(p.x, p.y + p.length);
                    this.ctx.strokeStyle = `rgba(174, 194, 224, ${p.opacity})`;
                    this.ctx.lineWidth = 1;
                    this.ctx.stroke();

                    p.y += p.speed;

                    if (p.y > this.canvas.height) {
                        p.y = -p.length;
                        p.x = Math.random() * this.canvas.width;
                    }
                });
            }

            animateStars() {
                this.particles.forEach(p => {
                    p.twinkle += p.twinkleSpeed;
                    const opacity = (Math.sin(p.twinkle) + 1) / 2 * 0.8;
                    
                    this.ctx.beginPath();
                    this.ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    this.ctx.fillStyle = `rgba(255, 255, 255, ${opacity})`;
                    this.ctx.fill();
                });
            }

            animateMeteors() {
                this.particles.forEach((p, index) => {
                    const radians = p.angle * Math.PI / 180;
                    const dx = Math.cos(radians) * p.speed;
                    const dy = Math.sin(radians) * p.speed;

                    this.ctx.beginPath();
                    this.ctx.moveTo(p.x, p.y);
                    this.ctx.lineTo(p.x - dx * 3, p.y - dy * 3);
                    this.ctx.strokeStyle = `rgba(255, 255, 255, ${p.opacity})`;
                    this.ctx.lineWidth = 2;
                    this.ctx.stroke();

                    p.x += dx;
                    p.y += dy;
                    p.opacity -= 0.01;

                    if (p.y > this.canvas.height || p.opacity <= 0) {
                        this.particles[index] = {
                            x: Math.random() * this.canvas.width,
                            y: -50,
                            length: Math.random() * 80 + 40,
                            speed: Math.random() * 10 + 10,
                            angle: Math.random() * 30 + 30,
                            opacity: 1
                        };
                    }
                });
            }

            animateAurora() {
                this.particles.forEach(p => {
                    p.wave += p.waveSpeed;
                    const y = p.y + Math.sin(p.wave) * 20;

                    this.ctx.beginPath();
                    this.ctx.arc(p.x, y, 30, 0, Math.PI * 2);
                    this.ctx.fillStyle = p.color.replace(')', `, ${p.opacity})`).replace('hsl', 'hsla');
                    this.ctx.filter = 'blur(20px)';
                    this.ctx.fill();
                    this.ctx.filter = 'none';
                });
            }

            updateEventBanner(event) {
                const banner = document.getElementById('event-banner');
                if (banner && event) {
                    const [color1, color2] = event.gradient.split(',').map(c => c.trim());
                    banner.style.background = `linear-gradient(90deg, ${color1}, ${color2})`;
                    banner.innerHTML = `${event.emoji} ${event.message}`;
                }
            }

            updateSpaceNews(news) {
                const titleEl = document.getElementById('space-news-title');
                const descEl = document.getElementById('space-news-description');
                const sourceEl = document.getElementById('space-news-source');
                const banner = document.getElementById('space-news-banner');

                if (titleEl && descEl && news) {
                    titleEl.textContent = news.title;
                    descEl.textContent = news.description;
                    if (sourceEl && news.source) {
                        sourceEl.textContent = `Source: ${news.source}`;
                    }
                    
                    setTimeout(() => {
                        banner.classList.add('visible');
                    }, 3000);
                }
            }
        }

        // Fermer la banni√®re d'actualit√©s
        function closeSpaceNews() {
            const banner = document.getElementById('space-news-banner');
            if (banner) {
                banner.classList.remove('visible');
            }
        }

        // Initialiser le syst√®me
        let lumaSystem;
        window.addEventListener('DOMContentLoaded', () => {
            lumaSystem = new LumaUltraDynamicSystem();
        });

        // ============================================
        // CODE ORIGINAL
        // ============================================

        /* --- TRADUCTION --- */
        function setLanguage(lang) {
            document.body.setAttribute('data-lang', lang);
            document.getElementById('lang-en').classList.remove('active');
            document.getElementById('lang-fr').classList.remove('active');
            document.getElementById('lang-' + lang).classList.add('active');

            const titleElement = document.getElementById('page-title');
            if (titleElement) {
                const newTitle = titleElement.getAttribute('data-' + lang);
                if (newTitle) { titleElement.textContent = newTitle; }
            }
            document.querySelectorAll('.translatable').forEach(el => {
                const translation = el.getAttribute('data-' + lang);
                if (translation) { el.innerHTML = translation; }
            });
            
            if (typeof lumaSystem !== 'undefined' && lumaSystem) {
                lumaSystem.analyzeSeasonAndEvents();
                lumaSystem.fetchSpaceNews();
            }
        }
        setLanguage('fr');

        /* --- TICKER --- */
        const barCoins = [
            { id:"ethereum",     symbol:"ETH" },
            { id:"binancecoin",  symbol:"BNB" },
            { id:"solana",       symbol:"SOL" },
            { id:"ripple",       symbol:"XRP" },
            { id:"litecoin",     symbol:"LTC" },
            { id:"bitcoin-cash", symbol:"BCH" },
            { id:"dogecoin",     symbol:"DOGE" },
            { id:"tron",         symbol:"TRX" },
            { id:"bitcoin",      symbol:"BTC" }
        ];

        async function loadTicker() {
            try {
                const ids  = barCoins.map(c => c.id).join(",");
                const url  = "https://api.coingecko.com/api/v3/simple/price?ids=" + ids + "&vs_currencies=usd&include_24hr_change=true";
                const res  = await fetch(url);
                const data = await res.json();
                const track = document.getElementById("ticker-track");
                track.innerHTML = "";

                barCoins.forEach(c => {
                    const info = data[c.id];
                    if (!info) return;
                    const price  = info.usd;
                    const change = info.usd_24h_change || 0;
                    const cls    = change >= 0 ? "up" : "down";
                    const changeStr = (change >= 0 ? "+" : "") + change.toFixed(2) + "%";
                    track.insertAdjacentHTML(
                        "beforeend",
                        `<div class="ticker-item">
                            <span>${c.symbol}</span>
                            <span>$${price.toLocaleString("en-US",{maximumFractionDigits:2})}</span>
                            <span class="ticker-change ${cls}">${changeStr}</span>
                        </div>`
                    );
                });

                if (typeof window.lumaPriceForTicker === "number" && typeof window.lumaChangeForTicker === "number") {
                    const lp  = window.lumaPriceForTicker;
                    const chg = window.lumaChangeForTicker;
                    const cls = chg >= 0 ? "up" : "down";
                    const changeStr = (chg >= 0 ? "+" : "") + chg.toFixed(2) + "%";
                    track.insertAdjacentHTML(
                        "afterbegin",
                        `<div class="ticker-item">
                            <span>LUMA</span>
                            <span>$${lp.toLocaleString("en-US",{maximumFractionDigits:8})}</span>
                            <span class="ticker-change ${cls}">${changeStr}</span>
                        </div>`
                    );
                }

                track.innerHTML += track.innerHTML;
            } catch (e) {
                console.error("Ticker error:", e);
            }
        }
        loadTicker();
        setInterval(loadTicker, 60000);

        /* --- PRIX LUMA --- */
        function formatLumaPrice(price) {
            if (!isFinite(price) || price <= 0) return "Price unavailable";
            if (price >= 0.01) { return "$" + price.toFixed(4); }
            if (price < 0.01 && price > 0) {
                let s = price.toFixed(10);
                s = s.replace(/0+$/,"").replace(/\.$/,"");
                return "$" + s;
            }
            return "$" + price.toExponential(4);
        }

        function updateMarketCap() {
            const mcapEl = document.getElementById('stat-mcap');
            if (!mcapEl) return;
            if (lumaPriceUsd && lumaSupply) {
                const mcap = lumaPriceUsd * lumaSupply;
                mcapEl.textContent = "$" + mcap.toLocaleString("en-US", { maximumFractionDigits: 0 });
            }
        }

        async function loadLumaPrice() {
            const url = "https://api.geckoterminal.com/api/v2/networks/bsc/pools/0xc4ce7c692fdd27603437199c9b40baf5e2b804e6";
            const priceEl  = document.getElementById("luma-price");
            const changeEl = document.getElementById("luma-change");
            try {
                const res  = await fetch(url);
                const data = await res.json();
                const attr = data?.data?.attributes;
                if (!attr) { return; }
                const price = Number(attr.base_token_price_usd ?? attr.quote_token_price_usd ?? attr.price_usd ?? 0);
                const change = Number((attr.price_change_percentage && attr.price_change_percentage.h24) ?? attr.price_change_percentage_24h ?? 0);

                lumaPriceUsd = price;
                window.lumaPriceForTicker  = price;
                window.lumaChangeForTicker = change;

                if (priceEl) {
                    priceEl.textContent = formatLumaPrice(price);
                }
                if (changeEl) {
                    const isUp = change >= 0;
                    changeEl.classList.toggle("down", !isUp);
                    changeEl.classList.toggle("up", isUp);
                    const sign = isUp ? "+" : "";
                    changeEl.textContent = `${sign}${change.toFixed(2)}% (24h)`;
                }

                updateMarketCap();
                loadTicker();
            } catch (e) { console.error("LUMA price error:", e); }
        }
        loadLumaPrice();
        setInterval(loadLumaPrice, 60000);

        /* --- METAMASK --- */
        const addBtn = document.getElementById('add-luma-metamask');
        if (addBtn) {
            addBtn.addEventListener('click', async () => {
                if (!window.ethereum) {
                    alert("MetaMask n'est pas d√©tect√©.");
                    return;
                }

                try {
                    await window.ethereum.request({
                        method: 'wallet_watchAsset',
                        params: {
                            type: 'ERC20',
                            options: {
                                address: CONTRACT_ADDRESS,
                                symbol: 'LUMA',
                                decimals: 18,
                                image: window.location.origin + '/Luma-noel-logo.png'
                            }
                        }
                    });
                } catch (err) {
                    console.error('Erreur MetaMask', err);
                }
            });
        }

        /* --- COPIE CONTRAT --- */
        const copyBtn = document.getElementById('copy-contract');
        if (copyBtn) {
            copyBtn.addEventListener('click', async () => {
                try {
                    await navigator.clipboard.writeText(CONTRACT_ADDRESS);
                    const fb = document.getElementById('copy-feedback');
                    if (fb) {
                        fb.style.display = 'block';
                        setTimeout(() => { fb.style.display = 'none'; }, 2500);
                    }
                } catch (e) {
                    alert("Adresse : " + CONTRACT_ADDRESS);
                }
            });
        }

        /* --- JEU --- */
        function openGamePopup() {
            window.open('game/luma-game.html', 'LUMA_ARCADE', 'width=500,height=750');
        }
        const gameLink = document.getElementById('open-game-nav');
        if (gameLink) {
            gameLink.addEventListener('click', function (e) {
                e.preventDefault();
                openGamePopup();
            });
        }
    </script>
</body>
</html>
