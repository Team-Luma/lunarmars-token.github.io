<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LUMA | Lunar&Mars Mission Control</title>
    <link rel="icon" href="luma-logo.png" />
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z4L8P2YSD7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-Z4L8P2YSD7');
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['JetBrains Mono', 'monospace'] },
                    colors: {
                        bg: '#050505',
                        brand: '#ffb21a',
                        webb: '#d4a017',
                        mars: '#ef4444',
                        moon: '#e5e7eb',
                        success: '#10b981'
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { 
            background: radial-gradient(circle at top, #1a1a24 0%, #050505 100%) fixed;
            color: #e5e5e5; 
            overflow-x: hidden; 
        }

        /* --- TICKER WALL STREET --- */
        .ticker-wrap {
            width: 100%; overflow: hidden; height: 36px; background: #000;
            border-bottom: 1px solid rgba(255,255,255,0.15); display: flex; align-items: center;
        }
        .ticker-move { display: inline-flex; white-space: nowrap; animation: ticker-scroll 40s linear infinite; }
        .ticker-wrap:hover .ticker-move { animation-play-state: paused; }
        @keyframes ticker-scroll { 0% { transform: translate3d(0, 0, 0); } 100% { transform: translate3d(-50%, 0, 0); } }
        
        .ticker-item { padding: 0 1.5rem; font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: #888; display: inline-flex; align-items: center; }
        .ticker-item strong { color: white; margin-right: 6px; font-weight: 800; }
        .ticker-item .up { color: #10b981; } .ticker-item .down { color: #ef4444; }

        /* UI */
        .tech-card {
            background: rgba(12, 12, 14, 0.92);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(16px);
            border-radius: 16px;
        }
        
        /* Scrollbar Texte Vision */
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: #222; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #ffb21a; border-radius: 4px; }

        #weather-overlay { position: fixed; inset: 0; pointer-events: none; z-index: 40; overflow: hidden; }
        .lang-btn { cursor: pointer; opacity: 0.5; font-weight: bold; }
        .lang-btn.active { opacity: 1; color: #ffb21a; }

        /* M√âT√âO - ANIMATION CHUTE */
        @keyframes fall {
            0% { transform: translateY(-30px); opacity: 0; }
            10% { opacity: 0.6; }
            100% { transform: translateY(110vh); opacity: 0; }
        }
    </style>
</head>

<body class="antialiased relative">

    <div id="weather-overlay"></div>

    <div class="fixed top-0 w-full z-50 flex flex-col bg-[#050505]/95 backdrop-blur-xl shadow-2xl">
        
        <nav class="w-full border-b border-white/10 h-16 flex items-center">
            <div class="max-w-[1600px] w-full mx-auto px-4 md:px-6 flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <img src="luma-logo.png" alt="LUMA" class="w-10 h-10 rounded-lg shadow-lg border border-white/10">
                    <div class="hidden md:block">
                        <span class="font-bold tracking-tight text-lg block leading-none text-white">Lunar&Mars</span>
                        <span class="text-[10px] text-brand font-mono tracking-widest">MISSION CONTROL</span>
                    </div>
                </div>

                <div class="hidden lg:flex items-center gap-6 text-xs font-bold text-gray-400 font-mono">
                    <a href="#vision" class="hover:text-white transition-colors" data-i18n="nav_vision">VISION</a>
                    <a href="#stats" class="hover:text-white transition-colors" data-i18n="nav_stats">STATS</a>
                    <a href="#tokenomics" class="hover:text-white transition-colors" data-i18n="nav_tokenomics">TOKENOMICS</a>
                    <a href="#tracking" class="hover:text-white transition-colors text-brand" data-i18n="nav_tracking">ISS & WEBB</a>
                    <a href="#roadmap" class="hover:text-white transition-colors" data-i18n="nav_roadmap">ROADMAP</a>
                </div>

                <div class="flex items-center gap-3">
                    <div class="flex items-center gap-2 text-xs font-mono border-r border-white/10 pr-3 mr-1">
                        <span class="lang-btn active" onclick="changeLanguage('fr')" id="btn-fr">FR</span>
                        <span class="lang-btn" onclick="changeLanguage('en')" id="btn-en">EN</span>
                    </div>
                    <button onclick="openGamePopup()" class="hidden md:flex bg-purple-600/20 text-purple-400 border border-purple-600/30 px-3 py-1.5 rounded text-[10px] font-bold hover:bg-purple-600/30 uppercase items-center gap-1">
                        <i data-lucide="gamepad-2" class="w-3 h-3"></i> JEU
                    </button>
                    <a href="https://pancakeswap.finance/swap?outputCurrency=0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9&chainId=56" target="_blank" class="bg-white text-black px-4 py-2 rounded text-xs font-bold hover:bg-gray-200 transition-all uppercase flex items-center gap-2">
                        <span data-i18n="btn_buy">ACHETER</span>
                    </a>
                </div>
            </div>
        </nav>

        <div class="ticker-wrap">
            <div class="ticker-move" id="ticker-track">
                </div>
        </div>
    </div>

    <main class="relative pt-40 pb-20 px-4 md:px-6 max-w-[1400px] mx-auto space-y-6">

        <section id="vision" class="grid grid-cols-1 md:grid-cols-12 gap-6">
            
            <div class="md:col-span-12 lg:col-span-8 tech-card p-0 flex flex-col h-[400px] relative overflow-hidden group">
                <div class="absolute top-0 right-0 p-6 opacity-5"><i data-lucide="book-open" class="w-32 h-32 text-white"></i></div>
                
                <div class="p-4 border-b border-white/10 bg-white/5 flex justify-between items-center z-10">
                    <h2 class="text-lg font-bold text-white flex items-center gap-2">
                        <i data-lucide="file-text" class="text-brand w-5 h-5"></i>
                        <span data-i18n="hero_title">VISION & MANIFESTO</span>
                    </h2>
                    <span class="text-[10px] bg-brand/10 text-brand px-2 py-1 rounded font-mono border border-brand/20">DOCUMENT OFFICIEL V1.1</span>
                </div>

                <div class="p-6 overflow-y-auto custom-scroll text-sm text-gray-300 leading-relaxed text-justify space-y-4 z-10">
                    <p class="font-bold text-white text-lg" data-i18n="hero_subtitle">LUMA EN UNE PHRASE : UN JETON COMMUNAUTAIRE PENS√â POUR L‚ÄôAVENIR LUNE ‚Üí MARS.</p>
                    
                    <p data-i18n="hero_desc">Lunar&Mars (LUMA) est un jeton BEP-20 d√©ploy√© sur la BNB Smart Chain. Initialement con√ßu comme un symbole de la transition future entre la pr√©sence humaine sur la Lune et l‚Äôexploration de Mars, le projet a √©volu√© vers un actif communautaire exp√©rimental, public et transparent, avec une priorit√© donn√©e √† la simplicit√©, √† la stabilit√© et √† l‚Äôaccessibilit√©.</p>
                    
                    <h3 class="text-white font-bold mt-2" data-i18n="vision_title">VISION & CONCEPT</h3>
                    <p data-i18n="vision_text">La vision de Lunar&Mars repose sur un axe simple : Lune ‚Üí Mars comme fil conducteur. Ce th√®me sert de cadre √† un projet communautaire visant √† (a) apprendre et d√©montrer des m√©canismes blockchain de base, (b) construire progressivement un actif num√©rique simple et v√©rifiable, et (c) d√©velopper une pr√©sence publique coh√©rente (site, documentation, canaux sociaux, transparence on-chain).</p>
                    
                    <h3 class="text-white font-bold mt-2" data-i18n="evolution_title">√âVOLUTION (~30 JOURS)</h3>
                    <ul class="list-disc pl-5 space-y-1" data-i18n="evolution_list">
                        <li>D√©ploiement du jeton sur BSC et identit√© stable (contrat public).</li>
                        <li>V√©rification du contrat sur l‚Äôexplorateur (code lisible publiquement).</li>
                        <li>Mise en place d‚Äôun site officiel et d‚Äôune page d‚Äôacc√®s rapide.</li>
                        <li>Cr√©ation d‚Äôun pool de liquidit√© et premi√®res transactions organiques.</li>
                        <li>D√©but de la distribution communautaire (airdrops / animation).</li>
                    </ul>

                    <p class="italic opacity-60 text-xs mt-4 pt-4 border-t border-white/10" data-i18n="disclaimer_text">Avertissement : LUMA n‚Äôest pas un produit financier offrant un rendement garanti. Les actifs num√©riques comportent des risques, incluant la volatilit√© et la perte totale du capital.</p>
                </div>
            </div>

            <div class="md:col-span-12 lg:col-span-4 flex flex-col gap-4">
                <div class="tech-card p-6 flex-1 flex flex-col justify-center text-center relative overflow-hidden">
                    <div class="absolute inset-0 bg-gradient-to-br from-brand/5 to-transparent pointer-events-none"></div>
                    
                    <div class="data-label text-brand mb-1">PRIX LUMA (LIVE)</div>
                    <div id="livePrice" class="text-4xl font-mono font-bold text-white mb-0">$0.00000000</div>
                    <div id="liveChange" class="text-sm font-bold text-gray-500 mb-2">0.00%</div>
                    
                    <div class="mb-4 text-[11px] text-gray-400 font-mono">
                        MCAP: <span id="stat-mcap" class="text-white font-bold">$0</span>
                    </div>
                    
                    <div class="space-y-3">
                        <button id="addMetaMask" class="w-full py-3 bg-[#f6851b]/10 border border-[#f6851b]/30 rounded text-[#f6851b] font-bold text-xs flex items-center justify-center gap-2 hover:bg-[#f6851b]/20 transition">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Fox.svg" class="w-4 h-4"> AJOUTER √Ä METAMASK
                        </button>
                        <div class="grid grid-cols-2 gap-2">
                            <button id="copyContractBtn" class="py-2 rounded border border-white/20 hover:bg-white/10 text-gray-300 text-xs font-bold transition flex justify-center gap-2"><i data-lucide="copy" class="w-4 h-4"></i> CONTRAT</button>
                            <a href="LUMA_Whitepaper_v1.1.pdf" target="_blank" class="py-2 rounded border border-white/20 hover:bg-white/10 text-white text-xs font-bold transition flex justify-center gap-2"><i data-lucide="file-text" class="w-4 h-4"></i> PDF</a>
                        </div>
                    </div>
                </div>

                <div class="tech-card p-4 flex justify-between items-center">
                    <div>
                        <div class="data-label">M√âT√âO LOCALE</div>
                        <div id="wxLabel" class="text-xl font-mono font-bold text-white">--¬∞C</div>
                        <div id="geoStatus" class="text-[10px] text-gray-500">GPS...</div>
                    </div>
                    <div class="text-right">
                        <div class="data-label">HEURE MARTIENNE</div>
                        <div id="mars-clock" class="text-lg font-mono text-mars">Sol ---</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="tracking" class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            
            <div class="tech-card p-6 relative overflow-hidden flex items-center justify-between group h-[200px]">
                <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-green-900/10 via-transparent to-transparent pointer-events-none"></div>
                
                <div class="z-10 flex flex-col justify-center h-full w-1/2">
                    <div class="flex items-center gap-2 mb-2">
                        <i data-lucide="navigation" class="text-green-400 w-5 h-5"></i>
                        <h3 class="font-bold text-xl text-white">ISS LIVE</h3>
                    </div>
                    <div class="data-label">DISTANCE DE VOUS</div>
                    <div id="issDistance" class="text-3xl font-mono text-white font-bold my-1">-- km</div>
                    <div class="text-[10px] text-gray-500 font-mono">LAT: <span id="iss-lat">--</span> LON: <span id="iss-lon">--</span></div>
                </div>

                <div class="w-1/2 flex justify-center items-center z-10 h-full">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/d/d0/International_Space_Station.svg" 
                         alt="ISS Station" 
                         class="w-32 h-32 animate-float drop-shadow-[0_0_15px_rgba(74,222,128,0.2)] filter grayscale opacity-90 hover:grayscale-0 hover:opacity-100 transition-all duration-500">
                </div>
            </div>

            <div class="grid grid-rows-2 gap-4 h-[200px]">
                <div class="tech-card p-4 flex items-center justify-between relative overflow-hidden">
                    <div class="absolute -right-4 -top-4 w-16 h-16 bg-blue-500/10 rounded-full blur-xl"></div>
                    <div>
                        <div class="flex items-center gap-2 text-blue-400 mb-1"><i data-lucide="satellite" class="w-4 h-4"></i> <span class="font-bold text-sm">VOYAGER 1</span></div>
                        <div id="v1-dist" class="text-lg font-mono text-white">Calcul...</div>
                    </div>
                    <div class="text-right"><div class="text-[10px] text-gray-500">LAUNCH</div><div class="text-xs font-bold text-white">1977</div></div>
                </div>
                <div class="tech-card p-4 flex items-center justify-between relative overflow-hidden">
                    <div class="absolute -right-4 -top-4 w-16 h-16 bg-purple-500/10 rounded-full blur-xl"></div>
                    <div>
                        <div class="flex items-center gap-2 text-purple-400 mb-1"><i data-lucide="satellite" class="w-4 h-4"></i> <span class="font-bold text-sm">VOYAGER 2</span></div>
                        <div id="v2-dist" class="text-lg font-mono text-white">Calcul...</div>
                    </div>
                    <div class="text-right"><div class="text-[10px] text-gray-500">STATUS</div><div class="text-xs font-bold text-green-400">ONLINE</div></div>
                </div>
            </div>
        </section>

        <section id="tokenomics" class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            <div class="lg:col-span-2 tech-card p-6">
                <h3 class="text-white font-bold mb-4 flex items-center gap-2"><i data-lucide="shield-check" class="text-green-400"></i> TOKENOMICS</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <ul class="space-y-3 text-sm text-gray-400">
                        <li class="flex justify-between border-b border-white/5 pb-1"><span>Supply</span> <span class="text-white font-mono">202.8M</span></li>
                        <li class="flex justify-between border-b border-white/5 pb-1"><span>Burn</span> <span class="text-mars font-mono">~10% (22.5M)</span></li>
                        <li class="flex justify-between border-b border-white/5 pb-1"><span>Lock</span> <span class="text-white font-mono">PinkLock V2</span></li>
                    </ul>
                    <div class="space-y-3 text-sm text-gray-400">
                        <li class="flex justify-between border-b border-white/5 pb-1"><span>Taxe Achat</span> <span class="text-green-400 font-mono">0%</span></li>
                        <li class="flex justify-between border-b border-white/5 pb-1"><span>Taxe Vente</span> <span class="text-green-400 font-mono">0%</span></li>
                        <li class="flex justify-between"><span>Ownership</span> <span class="text-green-400">Renounced</span></li>
                    </div>
                </div>
            </div>

            <div class="tech-card p-6 relative overflow-hidden">
                <div class="absolute -right-6 -top-6 w-32 h-32 bg-webb/10 rounded-full blur-3xl"></div>
                <div class="flex items-center gap-2 mb-4 text-webb">
                    <i data-lucide="aperture" class="w-5 h-5"></i> <h3 class="font-bold text-white">WEBB (JWST)</h3>
                </div>
                <div class="space-y-2">
                    <div class="bg-white/5 p-2 rounded text-xs flex justify-between"><span>TEMP MIRI</span> <span class="text-blue-300">-266.15 ¬∞C</span></div>
                    <div class="bg-white/5 p-2 rounded text-xs flex justify-between"><span>DISTANCE</span> <span class="text-webb">1.5M km (L2)</span></div>
                </div>
                <div id="webbNews" class="mt-4 text-xs text-gray-400 h-16 overflow-hidden">Loading Webb News...</div>
            </div>
        </section>

        <section id="roadmap" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="tech-card p-6">
                <h3 class="text-white font-bold mb-4 flex items-center gap-2"><i data-lucide="map" class="text-brand"></i> ROADMAP</h3>
                <div class="space-y-4 text-sm text-gray-400 border-l border-white/10 ml-2 pl-4">
                    <div class="relative"><span class="absolute -left-[21px] top-1 w-2.5 h-2.5 rounded-full bg-green-500"></span><span class="text-green-400 font-bold text-xs">PHASE 1</span><p>Lancement Orbital, Burn, Whitepaper.</p></div>
                    <div class="relative"><span class="absolute -left-[21px] top-1 w-2.5 h-2.5 rounded-full bg-brand animate-pulse"></span><span class="text-brand font-bold text-xs">PHASE 2 (ACTIF)</span><p>Construction √âquipage, Airdrops, Site V2.</p></div>
                    <div class="relative"><span class="absolute -left-[21px] top-1 w-2.5 h-2.5 rounded-full bg-white/20"></span><span class="text-white font-bold text-xs">PHASE 3</span><p>Expansion Lunaire, Web3.</p></div>
                    <div class="relative"><span class="absolute -left-[21px] top-1 w-2.5 h-2.5 rounded-full bg-white/20"></span><span class="text-white font-bold text-xs">PHASE 4</span><p>Corridor Lune -> Mars.</p></div>
                </div>
            </div>

            <div class="tech-card p-6">
                <h3 class="text-white font-bold mb-4 flex items-center gap-2"><i data-lucide="calendar" class="text-blue-400"></i> √âV√âNEMENTS</h3>
                <div class="space-y-3">
                    <div class="p-3 rounded border border-white/5 bg-white/5 opacity-50">
                        <div class="flex justify-between text-[10px] uppercase font-bold text-gray-500 mb-1">
                            <span>TERMIN√â</span> <span>D√âC 2025</span>
                        </div>
                        <div class="text-gray-400 text-sm">Airdrop Initial (Phase 1)</div>
                        <p class="text-[10px] text-gray-500">Distribu√© aux premiers holders.</p>
                    </div>
                    <div class="p-3 rounded border border-brand/20 bg-brand/5">
                        <div class="flex justify-between text-[10px] uppercase font-bold text-brand mb-1">
                            <span>PROCHAINEMENT</span> <span>2026</span>
                        </div>
                        <div class="text-white text-sm">LUMA Arcade Tournament</div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="border-t border-white/5 bg-[#020202] py-12 mt-12">
        <div class="max-w-[1400px] mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8 text-xs text-gray-500">
            <div>
                <img src="luma-logo.png" class="w-8 h-8 rounded mb-4 shadow-md">
                <p>LUMA est un jeton communautaire symbolique sur BNB Smart Chain.</p>
                <p class="mt-2">&copy; 2026 Lunar&Mars Project.</p>
            </div>
            <div>
                <h4 class="text-white font-bold mb-3">COMMUNAUT√â</h4>
                <ul class="space-y-2">
                    <li><a href="https://t.me/LunarMarsOfficial" class="hover:text-brand">Telegram</a></li>
                    <li><a href="https://x.com/LunarMarsToken" class="hover:text-brand">X (Twitter)</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-bold mb-3">DONN√âES</h4>
                <ul class="space-y-2">
                    <li><a href="https://bscscan.com/token/0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9" class="hover:text-brand">BscScan</a></li>
                    <li><a href="#" id="copyContractFooter" class="hover:text-brand">Copier Contrat</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script>
        lucide.createIcons();
        const CONTRACT_ADDRESS = '0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9';
        const TOTAL_SUPPLY = 202845958.7;
        const $ = (id) => document.getElementById(id);

        // --- TRADUCTION ---
        const translations = {
            fr: {
                nav_vision: "VISION", nav_stats: "STATS", nav_tokenomics: "TOKENOMICS", nav_tracking: "TRACKING", nav_roadmap: "ROADMAP", btn_buy: "ACHETER",
                hero_title: "VISION & MANIFESTO", hero_subtitle: "LUMA EN UNE PHRASE : UN JETON COMMUNAUTAIRE PENS√â POUR L‚ÄôAVENIR LUNE ‚Üí MARS.",
                hero_desc: "Lunar&Mars (LUMA) est un jeton BEP-20 d√©ploy√© sur la BNB Smart Chain. Initialement con√ßu comme un symbole de la transition future entre la pr√©sence humaine sur la Lune et l‚Äôexploration de Mars, le projet a √©volu√© vers un actif communautaire exp√©rimental, public et transparent, avec une priorit√© donn√©e √† la simplicit√©, √† la stabilit√© et √† l‚Äôaccessibilit√©.",
                vision_title: "VISION & CONCEPT", vision_text: "La vision de Lunar&Mars repose sur un axe simple : Lune ‚Üí Mars comme fil conducteur. Ce th√®me sert de cadre √† un projet communautaire visant √† (a) apprendre et d√©montrer des m√©canismes blockchain de base, (b) construire progressivement un actif num√©rique simple et v√©rifiable, et (c) d√©velopper une pr√©sence publique coh√©rente (site, documentation, canaux sociaux, transparence on-chain).",
                evolution_title: "√âVOLUTION (~30 JOURS)", evolution_list: "<li>D√©ploiement du jeton sur BSC et identit√© stable (contrat public).</li><li>V√©rification du contrat sur l‚Äôexplorateur (code lisible publiquement).</li><li>Mise en place d‚Äôun site officiel et d‚Äôune page d‚Äôacc√®s rapide.</li><li>Cr√©ation d‚Äôun pool de liquidit√© et premi√®res transactions organiques.</li><li>D√©but de la distribution communautaire (airdrops / animation).</li>",
                disclaimer_text: "Avertissement : LUMA n‚Äôest pas un produit financier offrant un rendement garanti. Les actifs num√©riques comportent des risques, incluant la volatilit√© et la perte totale du capital.",
                lbl_market_data: "PRIX LUMA (LIVE)", lbl_env: "M√âT√âO LOCALE", lbl_iss_dist: "DISTANCE DE VOUS"
            },
            en: {
                nav_vision: "VISION", nav_stats: "STATS", nav_tokenomics: "TOKENOMICS", nav_tracking: "TRACKING", nav_roadmap: "ROADMAP", btn_buy: "BUY",
                hero_title: "VISION & MANIFESTO", hero_subtitle: "LUMA IN A SENTENCE: A COMMUNITY TOKEN FOR THE MOON ‚Üí MARS FUTURE.",
                hero_desc: "Lunar&Mars (LUMA) is a BEP-20 token deployed on the BNB Smart Chain...",
                vision_title: "VISION & CONCEPT", vision_text: "Moon ‚Üí Mars axis...",
                evolution_title: "EVOLUTION (~30 DAYS)", evolution_list: "<li>BSC Deployment.</li><li>Verified Contract.</li><li>Liquidity Pool.</li>",
                disclaimer_text: "Warning: LUMA is not a financial product...",
                lbl_market_data: "LUMA PRICE (LIVE)", lbl_env: "LOCAL WEATHER", lbl_iss_dist: "DISTANCE FROM YOU"
            }
        };

        let currentLang = 'fr';
        function changeLanguage(lang) {
            currentLang = lang; 
            localStorage.setItem('luma-lang', lang);
            document.getElementById('btn-fr').classList.toggle('active', lang === 'fr');
            document.getElementById('btn-en').classList.toggle('active', lang === 'en');
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    if (el.tagName === 'UL') el.innerHTML = translations[lang][key];
                    else el.innerText = translations[lang][key];
                }
            });
        }
        
        // Correctif Langue : chargement via localStorage
        const saved = localStorage.getItem('luma-lang');
        changeLanguage(saved === 'en' ? 'en' : 'fr');

        // --- TICKER WALL STREET ---
        const barCoins = [
            {id:"bitcoin", sym:"BTC"}, {id:"ethereum", sym:"ETH"}, {id:"binancecoin", sym:"BNB"}, {id:"solana", sym:"SOL"}, {id:"ripple", sym:"XRP"},
            {id:"cardano", sym:"ADA"}, {id:"avalanche-2", sym:"AVAX"}, {id:"dogecoin", sym:"DOGE"}, {id:"polkadot", sym:"DOT"}, {id:"chainlink", sym:"LINK"},
            {id:"tron", sym:"TRX"}, {id:"matic-network", sym:"MATIC"}, {id:"shiba-inu", sym:"SHIB"}, {id:"litecoin", sym:"LTC"}, {id:"uniswap", sym:"UNI"},
            {id:"bitcoin-cash", sym:"BCH"}, {id:"stellar", sym:"XLM"}, {id:"monero", sym:"XMR"}, {id:"cosmos", sym:"ATOM"}, {id:"ethereum-classic", sym:"ETC"},
            {id:"toncoin", sym:"TON"}, {id:"near", sym:"NEAR"}, {id:"aptos", sym:"APT"}, {id:"internet-computer", sym:"ICP"}, {id:"kaspa", sym:"KAS"},
            {id:"pepe", sym:"PEPE"}, {id:"arbitrum", sym:"ARB"}, {id:"render-token", sym:"RNDR"}, {id:"filecoin", sym:"FIL"}, {id:"immutable-x", sym:"IMX"},
            {id:"stacks", sym:"STX"}, {id:"optimism", sym:"OP"}, {id:"injective-protocol", sym:"INJ"}, {id:"the-graph", sym:"GRT"}, {id:"fantom", sym:"FTM"}
        ];

        async function fetchTicker() {
            try {
                // LUMA
                const rLuma = await fetch("https://api.geckoterminal.com/api/v2/networks/bsc/pools/0xc4ce7c692fdd27603437199c9b40baf5e2b804e6");
                const dLuma = await rLuma.json(); 
                const p = parseFloat(dLuma.data.attributes.base_token_price_usd);
                const c = parseFloat(dLuma.data.attributes.price_change_percentage.h24);
                
                const pStr = p < 0.01 ? '$'+p.toFixed(9) : '$'+p.toFixed(4);
                $("livePrice").innerText = pStr;
                $("liveChange").innerText = (c>=0?'+':'') + c.toFixed(2) + '%';
                $("liveChange").style.color = c>=0 ? '#10b981' : '#ef4444';
                
                if($("stat-mcap")) $("stat-mcap").innerText = '$' + (p * TOTAL_SUPPLY).toLocaleString('en-US', {maximumFractionDigits: 0});

                // COINS
                const rCoins = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${barCoins.map(x=>x.id).join(',')}&vs_currencies=usd&include_24hr_change=true`);
                const dCoins = await rCoins.json();
                
                let itemsHtml = `<div class="ticker-item"><strong class="text-brand">LUMA</strong> ${pStr} <span class="${c>=0?'up':'down'}">(${c.toFixed(2)}%)</span></div>`;
                barCoins.forEach(coin => {
                    const d = dCoins[coin.id];
                    if(d) {
                         const chg = d.usd_24h_change;
                         itemsHtml += `<div class="ticker-item"><strong>${coin.sym}</strong> $${d.usd} <span class="${chg>=0?'up':'down'}">(${chg.toFixed(1)}%)</span></div>`;
                    }
                });

                $("ticker-track").innerHTML = itemsHtml + itemsHtml + itemsHtml + itemsHtml; 

            } catch(e) {}
        }
        fetchTicker(); setInterval(fetchTicker, 60000);

        // --- PLANETARY (CORRIG√â) ---
        function updatePlanetaryData() {
            const startV = 1704067200000;
            const nowMs = Date.now();
            const elapsed = (nowMs - startV) / 1000;

            $("v1-dist").innerText = Math.floor(24400000000 + elapsed * 17).toLocaleString() + " km";
            $("v2-dist").innerText = Math.floor(20300000000 + elapsed * 15).toLocaleString() + " km";

            const millisPerSol = 88775244;
            const sols = (nowMs - 947116800000) / millisPerSol;
            $("mars-clock").innerText = `Sol ${Math.floor(sols) + 44796}`;
        }
        updatePlanetaryData();
        setInterval(updatePlanetaryData, 1000);

        async function fetchWebbNews() { try { const rWebb = await fetch("https://api.spaceflightnewsapi.net/v4/articles/?search=Webb&limit=2"); const jWebb = await rWebb.json(); $("webbNews").innerHTML = jWebb.results.map(a => `<div class="border-b border-white/5 pb-2 mb-2"><a href="${a.url}" target="_blank" class="text-xs text-webb hover:text-white transition block">${a.title}</a></div>`).join(''); } catch(e) {} } fetchWebbNews();

        // --- UTILS (M√âT√âO CORRIG√âE) ---
        if ("geolocation" in navigator) {
            navigator.geolocation.getCurrentPosition(async (pos) => {
                const lat = pos.coords.latitude; const lon = pos.coords.longitude;
                $("geoStatus").innerText = `${lat.toFixed(2)}, ${lon.toFixed(2)}`;
                try {
                    const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`);
                    const data = await res.json();
                    $("wxLabel").innerText = `${data.current_weather.temperature}¬∞C`;
                    const code = data.current_weather.weathercode;
                    const w = document.getElementById("weather-overlay"); w.innerHTML = "";
                    let char = "";
                    if ((code >= 51 && code <= 67) || (code >= 80 && code <= 82)) char = "üíß";
                    if (code >= 71 && code <= 77) char = "‚ùÑ";
                    if(char) {
                        setInterval(() => {
                           const p=document.createElement("div"); p.className="absolute top-[-20px] text-white/50 pointer-events-none";
                           p.textContent=char; p.style.left=Math.random()*100+"vw"; 
                           // Correction de l'animation pour faire tomber les particules
                           p.style.animation = `fall ${2 + Math.random() * 3}s linear`;
                           w.appendChild(p); setTimeout(()=>p.remove(),5000);
                        }, 200);
                    }
                } catch(e){}
                setInterval(async () => {
                     try { const r = await fetch("https://api.wheretheiss.at/v1/satellites/25544"); const j = await r.json(); 
                     const R = 6371; const dLat = (j.latitude - lat) * Math.PI / 180; const dLon = (j.longitude - lon) * Math.PI / 180;
                     const a = Math.sin(dLat/2) * Math.sin(dLat/2) + Math.cos(lat * Math.PI / 180) * Math.cos(j.latitude * Math.PI / 180) * Math.sin(dLon/2) * Math.sin(dLon/2);
                     const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                     const issDist = R * c;
                     $("issDistance").innerText = `${Math.floor(issDist).toLocaleString()} km`;
                     $("iss-lat").innerText = j.latitude.toFixed(2); $("iss-lon").innerText = j.longitude.toFixed(2);
                     } catch(e){}
                }, 5000);
            }, () => { $("geoStatus").innerText = "GPS OFF"; });
        }

        function copy(text) { navigator.clipboard.writeText(text); alert("Copi√© !"); }
        $("copyContractBtn").addEventListener('click', () => copy(CONTRACT_ADDRESS));
        $("copyContractFooter").addEventListener('click', (e) => { e.preventDefault(); copy(CONTRACT_ADDRESS); });
        $("addMetaMask").addEventListener('click', async () => { if (window.ethereum) { try { await window.ethereum.request({ method: 'wallet_watchAsset', params: { type: 'ERC20', options: { address: CONTRACT_ADDRESS, symbol: 'LUMA', decimals: 18, image: window.location.origin + '/luma-logo.png' }}}); } catch (e) {} } else alert("MetaMask introuvable"); });
        function openGamePopup() { window.open('game/luma-game.html', 'LUMA_ARCADE', 'width=500,height=750,resizable=yes,scrollbars=no'); }
    </script>
</body>
</html>
