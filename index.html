<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title id="page-title" data-en="Lunar&Mars (LUMA)" data-fr="Lunar&Mars (LUMA)">Lunar&Mars (LUMA)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="Luma-noel-logo.png" />
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet" />

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z4L8P2YSD7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-Z4L8P2YSD7');
    </script>

    <style>
        /* =========================================
           STYLE G√âN√âRAL & RESET
           ========================================= */
        * { margin:0; padding:0; box-sizing:border-box; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            /* Fond de secours si l'image manque : Noir profond */
            background: #050505 url("Luma-fond-christmas.jpg") center/cover fixed no-repeat;
            color: #fff;
            overflow-x: hidden;
            position: relative;
        }
        
        a { color:inherit; text-decoration:none; transition: all 0.3s ease; }
        ul { list-style: none; }

        /* Scrollbar personnalis√©e */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #ffb21a; }

        /* -------- CANVAS EFFETS M√âT√âO -------- */
        #weather-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 1; opacity: 0.6;
        }

        /* -------- ISS TRACKER -------- */
        .iss-tracker {
            position: fixed; top: 160px; right: 20px;
            background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 178, 26, 0.3);
            border-radius: 16px; padding: 16px; width: 260px;
            z-index: 900; box-shadow: 0 8px 32px rgba(0,0,0,0.5);
            font-size: 12px;
            transition: transform 0.3s;
        }
        .iss-header {
            display: flex; align-items: center; gap: 10px; margin-bottom: 12px;
            border-bottom: 1px solid rgba(255, 178, 26, 0.2); padding-bottom: 8px;
        }
        .iss-icon { font-size: 24px; animation: orbit 10s linear infinite; }
        @keyframes orbit { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .iss-title { color: #ffb21a; font-weight: 800; letter-spacing: 0.05em; }
        .iss-row { display: flex; justify-content: space-between; margin: 4px 0; }
        .iss-value { font-family: 'JetBrains Mono', monospace; color: #fff; font-weight: 700; }
        .iss-distance {
            background: rgba(255, 178, 26, 0.1); padding: 8px; border-radius: 8px;
            text-align: center; margin-top: 10px; border: 1px solid rgba(255, 178, 26, 0.2);
        }
        .iss-distance-value { color: #ffb21a; font-weight: 900; font-size: 16px; }

        /* -------- STATS SPATIALES -------- */
        .space-stats-panel {
            position: fixed; top: 160px; left: 20px;
            background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(12px);
            border: 1px solid rgba(100, 200, 255, 0.3);
            border-radius: 16px; padding: 16px; width: 240px;
            z-index: 900; box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }
        .space-stats-title { color: #64c8ff; font-weight: 800; display: flex; align-items: center; gap: 8px; margin-bottom: 10px; font-size: 13px; }
        .stat-item { background: rgba(100, 200, 255, 0.05); padding: 8px; border-radius: 6px; margin-bottom: 6px; }
        .stat-label { font-size: 10px; color: rgba(255,255,255,0.5); text-transform: uppercase; }
        .stat-value { color: #64c8ff; font-weight: 700; font-family: 'JetBrains Mono', monospace; }

        /* -------- HEADER & NAV -------- */
        header {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            display: flex; align-items: center; justify-content: space-between;
            padding: 10px 24px; height: 70px;
            background: rgba(5, 5, 10, 0.85); backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .brand { display: flex; align-items: center; gap: 12px; }
        .brand-logo { width: 40px; height: 40px; border-radius: 10px; overflow: hidden; background: #000; }
        .brand-logo img { width: 100%; height: 100%; object-fit: cover; }
        .brand-name { font-weight: 900; font-size: 20px; letter-spacing: -0.02em; }

        .nav { display: flex; gap: 20px; font-size: 13px; font-weight: 600; text-transform: uppercase; }
        .nav a:hover { color: #ffb21a; }
        
        .lang-switch { display: flex; gap: 5px; }
        .lang-switch button {
            background: transparent; border: 1px solid rgba(255,255,255,0.2);
            color: #fff; padding: 4px 8px; border-radius: 4px; cursor: pointer; font-size: 11px;
        }
        .lang-switch button.active { background: #ffb21a; color: #000; border-color: #ffb21a; font-weight: bold; }

        /* -------- TICKER -------- */
        .ticker {
            position: fixed; top: 70px; left: 0; right: 0; height: 36px; z-index: 950;
            background: #f4f4f5; color: #000; border-bottom: 1px solid #ddd;
            display: flex; align-items: center; overflow: hidden;
        }
        .ticker-track {
            display: flex; gap: 30px; animation: scroll 40s linear infinite; white-space: nowrap; padding-left: 20px;
        }
        .ticker-item { font-size: 13px; font-weight: 600; display: flex; align-items: center; gap: 5px; }
        .ticker-change { padding: 2px 6px; border-radius: 4px; font-size: 11px; }
        .up { color: #16a34a; background: rgba(22, 163, 74, 0.1); }
        .down { color: #dc2626; background: rgba(220, 38, 38, 0.1); }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

        /* -------- BANNI√àRE √âV√âNEMENT -------- */
        .event-banner {
            margin-top: 106px; /* Header + Ticker */
            background: linear-gradient(90deg, #b91c1c, #15803d);
            color: white; text-align: center; padding: 10px;
            font-weight: 700; font-size: 14px; box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            position: relative; z-index: 10;
        }

        /* -------- MAIN LAYOUT -------- */
        main { max-width: 1200px; margin: 0 auto; padding: 40px 20px; position: relative; z-index: 2; }
        
        section { margin-bottom: 80px; }
        .section-title {
            text-align: center; font-size: 32px; font-weight: 900; margin-bottom: 40px;
            text-transform: uppercase; letter-spacing: 0.05em;
            text-shadow: 0 0 20px rgba(255, 178, 26, 0.3);
        }

        /* HERO */
        .hero { text-align: center; padding-top: 60px; }
        .hero h1 { font-size: 60px; font-weight: 900; line-height: 1.1; margin-bottom: 20px; }
        .hero-desc { font-size: 18px; color: rgba(255,255,255,0.8); max-width: 800px; margin: 0 auto 40px; line-height: 1.6; }
        
        .hero-grid {
            display: grid; grid-template-columns: 1.4fr 1fr; gap: 30px; text-align: left;
        }

        .panel {
            background: rgba(15, 15, 20, 0.8); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px; padding: 30px; backdrop-filter: blur(10px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        
        .btn {
            display: inline-flex; align-items: center; justify-content: center;
            padding: 12px 24px; border-radius: 8px; font-weight: 700; cursor: pointer;
            text-transform: uppercase; font-size: 13px; border: none; outline: none;
        }
        .btn-primary { background: #ffb21a; color: #000; box-shadow: 0 4px 20px rgba(255,178,26,0.4); }
        .btn-primary:hover { background: #ffc95c; transform: translateY(-2px); }
        .btn-dark { background: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.2); }
        .btn-dark:hover { background: rgba(255,255,255,0.2); }
        .hero-btns { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 20px; }

        /* STATS CARDS */
        .stats-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;
        }
        .stat-card {
            background: rgba(20, 20, 25, 0.8); border: 1px solid rgba(255,255,255,0.1);
            padding: 20px; border-radius: 16px; text-align: center;
        }
        .stat-card h3 { color: #ffb21a; font-size: 14px; text-transform: uppercase; margin-bottom: 5px; }
        .stat-card .value { font-size: 24px; font-weight: 900; font-family: 'JetBrains Mono'; }

        /* TOKENOMICS */
        .burn-card {
            background: linear-gradient(135deg, rgba(40, 10, 10, 0.9), rgba(20, 5, 5, 0.9));
            border: 1px solid rgba(220, 38, 38, 0.4); border-radius: 20px; padding: 30px;
            position: relative; overflow: hidden;
        }
        .burn-card::before {
            content: "üî•"; position: absolute; right: -20px; bottom: -20px; font-size: 150px; opacity: 0.1;
        }

        /* FOOTER */
        footer {
            text-align: center; padding: 40px 20px; color: rgba(255,255,255,0.4); font-size: 12px;
            border-top: 1px solid rgba(255,255,255,0.1); background: #000; position: relative; z-index: 2;
        }

        /* MOBILE RESPONSIVE */
        @media (max-width: 900px) {
            .hero-grid { grid-template-columns: 1fr; }
            .iss-tracker, .space-stats-panel { display: none; } /* Cach√© sur mobile pour la clart√© */
            .nav { display: none; } /* Menu burger √† impl√©menter si besoin, cach√© pour l'instant */
            .hero h1 { font-size: 36px; }
            .event-banner { font-size: 12px; }
        }
        
        /* Utilitaires */
        .copy-feedback { color: #4ade80; font-size: 12px; margin-top: 5px; display: none; }
    </style>
</head>

<body data-lang="fr">

    <canvas id="weather-canvas"></canvas>

    <header>
        <div class="brand">
            <div class="brand-logo"><img src="Luma-noel-logo.png" alt="LUMA" onerror="this.style.background='#ffb21a'" /></div>
            <div class="brand-name">Lunar&Mars</div>
        </div>
        <nav class="nav">
            <a href="#hero" class="translatable" data-en="Home" data-fr="Accueil">Accueil</a>
            <a href="#stats" class="translatable" data-en="Stats" data-fr="Statistiques">Statistiques</a>
            <a href="#tokenomics" class="translatable" data-en="Tokenomics" data-fr="Tokenomics">Tokenomics</a>
            <a href="#roadmap" class="translatable" data-en="Roadmap" data-fr="Feuille de route">Feuille de route</a>
            <a href="https://pancakeswap.finance/swap?outputCurrency=0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9" target="_blank" style="color:#ffb21a">Acheter</a>
        </nav>
        <div class="lang-switch">
            <button id="lang-en" onclick="setLanguage('en')">EN</button>
            <button id="lang-fr" onclick="setLanguage('fr')" class="active">FR</button>
        </div>
    </header>

    <div class="ticker">
        <div class="ticker-track" id="ticker-track">Chargement des prix...</div>
    </div>

    <div class="event-banner" id="event-banner">
        üöÄ LUMA - En route vers les √©toiles
    </div>

    <div class="iss-tracker">
        <div class="iss-header">
            <div class="iss-icon">üõ∞Ô∏è</div>
            <div class="iss-title">ISS LIVE TRACKER</div>
        </div>
        <div class="iss-row"><span>Altitude:</span> <span class="iss-value" id="iss-alt">---</span></div>
        <div class="iss-row"><span>Vitesse:</span> <span class="iss-value" id="iss-vel">---</span></div>
        <div class="iss-distance">
            <div>Distance de vous:</div>
            <div class="iss-distance-value" id="iss-dist">Calcul...</div>
        </div>
    </div>

    <div class="space-stats-panel">
        <div class="space-stats-title"><span>üåå</span> DATA SPATIALE</div>
        <div class="stat-item">
            <div class="stat-label">Personnes dans l'espace</div>
            <div class="stat-value" id="stat-people">14</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">Prochaine Pleine Lune</div>
            <div class="stat-value" id="stat-moon">Calcul...</div>
        </div>
    </div>

    <main>
        <section class="hero" id="hero">
            <h1 class="translatable" data-en="FROM THE MOON TO MARS" data-fr="DE LA LUNE VERS MARS">DE LA LUNE VERS MARS</h1>
            <p class="hero-desc translatable" 
               data-en="LUMA is a community token designed to symbolize humanity's expansion into space. No owner, immutable contract, pure community driven."
               data-fr="LUMA est un jeton communautaire con√ßu pour symboliser l'expansion de l'humanit√© vers l'espace. Sans propri√©taire, contrat immuable, 100% communautaire.">
               LUMA est un jeton communautaire con√ßu pour symboliser l'expansion de l'humanit√© vers l'espace.
            </p>

            <div class="hero-grid">
                <article class="panel">
                    <h3 style="color:#ffb21a; margin-bottom:15px;">LUMA TOKEN (BEP-20)</h3>
                    <p style="font-size:14px; line-height:1.6; color:rgba(255,255,255,0.7);">
                        Contract Address: <br>
                        <code style="background:rgba(255,255,255,0.1); padding:4px; border-radius:4px; font-family:'JetBrains Mono'; color:#fff; word-break:break-all;">0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9</code>
                    </p>
                    <div class="hero-btns">
                        <a href="https://pancakeswap.finance/swap?outputCurrency=0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9" target="_blank" class="btn btn-primary">Acheter (PancakeSwap)</a>
                        <button onclick="copyContract()" class="btn btn-dark">Copier l'adresse</button>
                        <a href="https://t.me/LunarMarsOfficial" target="_blank" class="btn btn-dark">Telegram</a>
                    </div>
                    <div id="copy-msg" class="copy-feedback">Adresse copi√©e !</div>
                </article>

                <div class="panel" style="display:flex; flex-direction:column; justify-content:center; text-align:center;">
                    <div style="font-size:12px; color:rgba(255,255,255,0.5); margin-bottom:10px;">PRIX EN TEMPS R√âEL</div>
                    <div id="luma-price-hero" style="font-size:40px; font-weight:900; color:#fff; font-family:'JetBrains Mono'">Loading...</div>
                    <div id="luma-change-hero" style="font-size:16px; font-weight:700;">--</div>
                </div>
            </div>
        </section>

        <section id="stats">
            <h2 class="section-title">Statistiques du R√©seau</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Holders</h3>
                    <div class="value" id="stat-holders">600+</div>
                </div>
                <div class="stat-card">
                    <h3>Market Cap</h3>
                    <div class="value" id="stat-mcap">Loading...</div>
                </div>
                <div class="stat-card">
                    <h3>Total Supply</h3>
                    <div class="value">202M</div>
                    <div style="font-size:11px; opacity:0.6;">Apr√®s Burn</div>
                </div>
                <div class="stat-card">
                    <h3>Burned</h3>
                    <div class="value" style="color:#ef4444;">10%</div>
                </div>
            </div>
        </section>

        <section id="tokenomics">
            <h2 class="section-title">S√©curit√© & Tokenomics</h2>
            <div class="hero-grid">
                <div class="burn-card">
                    <h3 style="color:#ef4444; font-weight:900; font-size:24px; margin-bottom:20px;">üî• BURN PERMANENT</h3>
                    <p>10% de la supply totale a √©t√© d√©truite au lancement. Cela r√©duit l'offre disponible et augmente la raret√© de chaque LUMA restant.</p>
                    <a href="https://bscscan.com/token/0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9?a=0x000000000000000000000000000000000000dead" target="_blank" style="display:inline-block; margin-top:15px; text-decoration:underline; color:#fff;">Voir la preuve de Burn</a>
                </div>
                <div class="panel">
                    <h3 style="color:#22c55e; margin-bottom:20px;">üîí S√âCURIT√â MAXIMALE</h3>
                    <ul style="line-height:2;">
                        <li>‚úÖ <strong>Ownership Renounced :</strong> Le d√©veloppeur ne peut plus modifier le contrat.</li>
                        <li>‚úÖ <strong>Liquidity Locked :</strong> La liquidit√© est verrouill√©e sur PinkLock.</li>
                        <li>‚úÖ <strong>0% Taxes :</strong> Pas de frais cach√©s √† l'achat ou √† la vente.</li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <p class="translatable" 
           data-en="LUMA is a symbolic community token. Not financial advice. Always DYOR."
           data-fr="LUMA est un jeton symbolique communautaire. Ceci n'est pas un conseil financier. Faites vos propres recherches.">
           LUMA est un jeton symbolique communautaire. Ceci n'est pas un conseil financier.
        </p>
        <p style="margin-top:10px; opacity:0.6;">¬© 2025-2026 S√©bastien Labelle & LUMA Community</p>
    </footer>

    <script>
        /* ================= CONFIGURATION ================= */
        const CONTRACT = '0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9';
        const SUPPLY = 202845959;
        
        /* ================= GESTION DES LANGUES ================= */
        function setLanguage(lang) {
            document.body.setAttribute('data-lang', lang);
            document.querySelectorAll('.lang-switch button').forEach(b => b.classList.remove('active'));
            document.getElementById('lang-'+lang).classList.add('active');
            
            document.querySelectorAll('.translatable').forEach(el => {
                const txt = el.getAttribute('data-' + lang);
                if(txt) el.innerHTML = txt;
            });
            updateBannerText(); // Met √† jour la banni√®re selon la langue
        }

        /* ================= SYST√àME "IA" SIMUL√â (S√âCURIS√â) ================= */
        // Au lieu d'appeler une API payante, on utilise une banque d'√©v√©nements locale
        const EVENTS_DB = [
            { en: "Meteor Shower Incoming üå†", fr: "Pluie de m√©t√©ores en approche üå†", effect: "meteors", colors: "#0f172a, #312e81" },
            { en: "Clear Skies over Moon Base üåï", fr: "Ciel clair sur la base lunaire üåï", effect: "stars", colors: "#000000, #4338ca" },
            { en: "Solar Wind Detected ‚òÄÔ∏è", fr: "Vent solaire d√©tect√© ‚òÄÔ∏è", effect: "aurora", colors: "#b91c1c, #d97706" },
            { en: "Interstellar Travel Mode üöÄ", fr: "Mode Voyage Interstellaire üöÄ", effect: "stars", colors: "#4c1d95, #be185d" },
            { en: "Martian Sandstorm üå™Ô∏è", fr: "Temp√™te de sable martienne üå™Ô∏è", effect: "rain", colors: "#7c2d12, #ea580c" }
        ];

        function initLumaAI() {
            // Choix al√©atoire d'un √©v√©nement au chargement
            const evt = EVENTS_DB[Math.floor(Math.random() * EVENTS_DB.length)];
            window.currentEvent = evt;
            updateBannerText();
            initWeather(evt.effect);
        }

        function updateBannerText() {
            if(!window.currentEvent) return;
            const lang = document.body.getAttribute('data-lang') || 'fr';
            const banner = document.getElementById('event-banner');
            banner.textContent = window.currentEvent[lang];
            banner.style.background = `linear-gradient(90deg, ${window.currentEvent.colors})`;
        }

        /* ================= PRIX & API CRYPTO ================= */
        async function fetchPrices() {
            try {
                // Prix LUMA via GeckoTerminal (API Gratuite)
                const res = await fetch("https://api.geckoterminal.com/api/v2/networks/bsc/pools/0xc4ce7c692fdd27603437199c9b40baf5e2b804e6");
                const json = await res.json();
                const attr = json.data.attributes;
                const price = parseFloat(attr.base_token_price_usd);
                const change = parseFloat(attr.price_change_percentage.h24);

                // Update Hero
                document.getElementById('luma-price-hero').textContent = "$" + price.toFixed(9);
                const chgEl = document.getElementById('luma-change-hero');
                chgEl.textContent = (change >= 0 ? "+" : "") + change.toFixed(2) + "%";
                chgEl.style.color = change >= 0 ? "#4ade80" : "#ef4444";

                // Update Market Cap
                document.getElementById('stat-mcap').textContent = "$" + Math.round(price * SUPPLY).toLocaleString();

                // Update Ticker
                updateTickerBar(price, change);

            } catch (e) { console.error("Erreur Prix", e); }
        }

        async function updateTickerBar(lumaPrice, lumaChange) {
            // R√©cup√©rer BTC/BNB pour le ticker
            const res = await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,binancecoin,solana&vs_currencies=usd&include_24hr_change=true");
            const data = await res.json();
            
            let html = `
                <div class="ticker-item">LUMA $${lumaPrice.toFixed(8)} <span class="ticker-change ${lumaChange>=0?'up':'down'}">${lumaChange.toFixed(1)}%</span></div>
                <div class="ticker-item">BNB $${data.binancecoin.usd} <span class="ticker-change ${data.binancecoin.usd_24h_change>=0?'up':'down'}">${data.binancecoin.usd_24h_change.toFixed(1)}%</span></div>
                <div class="ticker-item">BTC $${data.bitcoin.usd} <span class="ticker-change ${data.bitcoin.usd_24h_change>=0?'up':'down'}">${data.bitcoin.usd_24h_change.toFixed(1)}%</span></div>
            `;
            // Dupliquer pour l'effet scroll infini
            document.getElementById('ticker-track').innerHTML = html + html + html + html;
        }

        /* ================= ISS & ESPACE ================= */
        async function updateISS() {
            try {
                // WhereTheISS API (HTTPS compatible)
                const res = await fetch('https://api.wheretheiss.at/v1/satellites/25544');
                const data = await res.json();
                
                document.getElementById('iss-alt').textContent = Math.round(data.altitude) + " km";
                document.getElementById('iss-vel').textContent = Math.round(data.velocity) + " km/h";
                
                // Calcul distance approximative (fixe √† Drummondville pour l'exemple)
                const myLat = 45.88; const myLon = -72.48; 
                const dist = calcDistance(myLat, myLon, data.latitude, data.longitude);
                document.getElementById('iss-dist').textContent = Math.round(dist) + " km";
            } catch(e) {}
        }

        function calcDistance(lat1, lon1, lat2, lon2) {
            var R = 6371; // km
            var dLat = (lat2-lat1) * Math.PI / 180;
            var dLon = (lon2-lon1) * Math.PI / 180;
            var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                    Math.sin(dLon/2) * Math.sin(dLon/2);
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }

        function updateMoon() {
            // Calcul simple jours restants
            const nextMoon = new Date('2026-01-03'); // Approx next full moon
            const now = new Date();
            const diff = Math.ceil((nextMoon - now) / (1000 * 60 * 60 * 24));
            document.getElementById('stat-moon').textContent = (diff > 0 ? diff : 29) + " jours";
        }

        /* ================= CANVAS ANIMATION (Particles) ================= */
        function initWeather(type) {
            const canvas = document.getElementById('weather-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            let particles = [];
            const count = 100;

            for(let i=0; i<count; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    speed: Math.random() * 2 + 0.5,
                    size: Math.random() * 2
                });
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "rgba(255,255,255,0.6)";
                
                particles.forEach(p => {
                    ctx.beginPath();
                    // Effet pluie vs √©toiles
                    if(type === 'rain') {
                        ctx.rect(p.x, p.y, 1, 10);
                        p.y += p.speed * 4;
                    } else {
                        ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
                        p.y -= p.speed * 0.2; // Stars go up slightly or twinkle
                    }
                    ctx.fill();

                    if(p.y > canvas.height) p.y = 0;
                    if(p.y < 0) p.y = canvas.height;
                });
                requestAnimationFrame(animate);
            }
            animate();
            
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }

        /* ================= UTILITAIRES ================= */
        function copyContract() {
            navigator.clipboard.writeText(CONTRACT);
            const msg = document.getElementById('copy-msg');
            msg.style.display = 'block';
            setTimeout(() => msg.style.display = 'none', 2000);
        }

        /* ================= INIT ================= */
        window.onload = function() {
            initLumaAI();
            fetchPrices();
            setInterval(fetchPrices, 60000);
            updateISS();
            setInterval(updateISS, 5000);
            updateMoon();
        };
    </script>
</body>
</html>
