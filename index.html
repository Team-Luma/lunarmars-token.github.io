<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lunar&Mars (LUMA) - Corridor Lune ‚Üí Mars</title>

  <!-- ‚úÖ Logo en couleurs (remplace tes fichiers) -->
  <link rel="icon" href="Luma-logo.png" />

  <!-- Google Analytics 4 - LUMA -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z4L8P2YSD7"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Z4L8P2YSD7');
  </script>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['JetBrains Mono', 'monospace'] },
          colors: {
            bg: '#0F0F10',
            brand: '#ffb21a',
            glass: 'rgba(255, 255, 255, 0.05)',
          },
          animation: { 'scroll-ticker': 'scroll 30s linear infinite' },
          keyframes: {
            scroll: { '0%': { transform: 'translateX(0)' }, '100%': { transform: 'translateX(-100%)' } }
          }
        }
      }
    }
  </script>

  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    body { background-color: #0F0F10; color: white; overflow-x: hidden; }
    .glow-bg { background: radial-gradient(circle at 50% 0%, rgba(99, 102, 241, 0.15) 0%, transparent 50%); }
    .glass-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }
    .glass-card:hover {
      border-color: rgba(255, 255, 255, 0.15);
      background: rgba(255, 255, 255, 0.06);
      transform: translateY(-2px);
    }
  </style>
</head>

<body class="antialiased selection:bg-brand/30">

  <!-- ‚úÖ Bandeau F√™tes / Messages (auto) -->
  <div id="festival-bar" class="fixed top-0 w-full z-[60] hidden bg-white/5 border-b border-white/10 backdrop-blur-xl text-white text-xs font-semibold text-center py-2">
    <span id="festival-text"></span>
  </div>

  <!-- ‚úÖ Overlay m√©t√©o (pluie/neige/orage) -->
  <div id="weather-overlay" class="fixed inset-0 pointer-events-none z-[55] overflow-hidden"></div>

  <!-- ‚úÖ Nav -->
  <nav id="mainNav" class="fixed top-0 w-full z-50 border-b border-white/5 bg-[#0F0F10]/90 backdrop-blur-xl transition-all duration-300">
    <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <!-- ‚úÖ Logo en couleurs -->
        <img src="Luma-logo.png" alt="Logo" class="w-8 h-8 rounded-lg opacity-95 hover:opacity-100 transition-all">
        <span class="font-bold tracking-tight text-lg">Lunar&Mars</span>
      </div>

      <div class="hidden md:flex items-center gap-6 text-sm text-gray-400 font-medium">
        <a href="#stats" class="hover:text-white transition-colors">Stats</a>
        <a href="#tokenomics" class="hover:text-white transition-colors">Mission Control</a>
        <a href="#events" class="hover:text-white transition-colors">√âv√©nements</a>
        <a href="#roadmap" class="hover:text-white transition-colors">Roadmap</a>
        <a href="#voyager" class="hover:text-white transition-colors">Voyager</a>
        <a href="#faq" class="hover:text-white transition-colors">FAQ</a>
        <a href="#" onclick="openGamePopup()" class="hover:text-brand transition-colors flex items-center gap-1">
          <i data-lucide="gamepad-2" class="w-3 h-3"></i> Jeu
        </a>
      </div>

      <div class="flex items-center gap-3">
        <a href="https://pancakeswap.finance/swap?outputCurrency=0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9&chainId=56" target="_blank"
           class="bg-white text-black px-5 py-2 rounded-full text-sm font-semibold hover:bg-gray-200 transition-colors">
          Acheter
        </a>
      </div>
    </div>
  </nav>

  <!-- ‚úÖ Ticker crypto -->
  <div id="tickerBar" class="fixed w-full z-40 bg-white/5 border-b border-white/5 backdrop-blur-md overflow-hidden h-8 flex items-center">
    <div class="whitespace-nowrap animate-scroll-ticker flex gap-8 px-4 text-xs font-mono" id="ticker-track">
      <span>Chargement des prix...</span>
    </div>
  </div>

  <main id="mainContent" class="relative pb-20 px-6">
    <div class="absolute inset-0 -z-10 glow-bg h-[800px]"></div>

    <div class="max-w-4xl mx-auto text-center mb-24 mt-10">
      <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-indigo-500/30 bg-indigo-500/10 text-indigo-300 text-xs font-medium mb-6">
        <span class="relative flex h-2 w-2">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-indigo-500"></span>
        </span>
        Corridor Lune ‚Üí Mars actif
      </div>

      <h1 class="text-4xl md:text-6xl font-bold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-b from-white to-white/60">
        LUMA EN UNE PHRASE
      </h1>

      <p class="text-xl md:text-2xl font-bold text-white mb-6">
        LUMA EST UN JETON COMMUNAUTAIRE PENS√â POUR L‚ÄôAVENIR LUNE ‚Üí MARS.
      </p>

      <p class="text-sm text-gray-400 max-w-3xl mx-auto mb-10 leading-relaxed">
        Lunar&Mars (LUMA) est un jeton BEP-20 d√©ploy√© sur la BNB Smart Chain. Il s'agit d'un jeton conceptuel, communautaire et √©ducatif,
        destin√© √† inspirer la r√©flexion autour de l'exploration spatiale et de la d√©centralisation.
      </p>

      <div class="flex flex-wrap items-center justify-center gap-4">
        <a href="luma-airdrop.html" target="_blank"
           class="h-10 px-6 rounded-full bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-medium transition-all flex items-center gap-2">
          <i data-lucide="gift" class="w-4 h-4"></i> Airdrop
        </a>
        <a href="LUMA_Whitepaper_v1.1.pdf" target="_blank"
           class="h-10 px-6 rounded-full border border-white/20 hover:bg-white/10 text-white text-sm font-medium transition-all flex items-center gap-2">
          <i data-lucide="file-text" class="w-4 h-4"></i> Whitepaper
        </a>
        <button id="copyBtn"
          class="h-10 px-6 rounded-full border border-white/20 hover:bg-white/10 text-gray-300 text-sm font-medium transition-all flex items-center gap-2">
          <i data-lucide="copy" class="w-4 h-4"></i> <span id="copyText">Copier Contrat</span>
        </button>
      </div>

      <div class="mt-4 text-xs text-gray-600 font-mono break-all">
        0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9
      </div>
    </div>

    <!-- ‚úÖ STATS -->
    <div id="stats" class="max-w-6xl mx-auto mb-32">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">

        <!-- Prix -->
        <div class="glass-card rounded-3xl p-6 relative overflow-hidden group flex flex-col justify-between">
          <div>
            <div class="flex justify-between items-start mb-4">
              <div class="p-2 rounded-lg bg-white/5 text-brand"><i data-lucide="bar-chart-3" class="w-5 h-5"></i></div>
              <span class="text-xs text-gray-500 uppercase font-bold">Live Data</span>
            </div>
            <div class="space-y-1">
              <div class="text-xs text-gray-500">Prix Actuel (USD)</div>
              <div id="livePrice" class="text-2xl font-mono font-bold text-white">Loading...</div>
              <div id="liveChange" class="text-xs font-bold">--%</div>
            </div>
          </div>
          <div class="mt-4 pt-4 border-t border-white/10 flex gap-2">
            <a href="https://www.geckoterminal.com/bsc/pools/0xc4ce7c692fdd27603437199c9b40baf5e2b804e6" target="_blank"
               class="text-xs flex-1 py-2 text-center bg-white/5 hover:bg-white/10 rounded">Chart</a>
            <a href="https://www.mexc.com/dex/trade?pair_ca=0xc4ce7c692fdd27603437199c9b40baf5e2b804e6&chain_id=56&token_ca=0xea6c0908734d7cadc10c01b2e4e9d8e1664eecc9&inviteCode=1489J" target="_blank"
               class="text-xs flex-1 py-2 text-center bg-white/5 hover:bg-white/10 rounded">MEXC</a>
          </div>
        </div>

        <!-- Mission Control -->
        <div id="tokenomics" class="glass-card rounded-3xl p-6 md:col-span-2 relative overflow-hidden group">
          <div class="flex items-center gap-2 mb-6">
            <div class="p-2 rounded-lg bg-white/5 text-brand"><i data-lucide="rocket" class="w-5 h-5"></i></div>
            <h3 class="text-lg font-bold text-white">Mission Control</h3>
          </div>

          <div class="grid grid-cols-2 sm:grid-cols-4 gap-6">
            <div>
              <span class="text-[10px] uppercase text-gray-500 font-bold">Total Supply</span>
              <div class="text-xl font-bold text-white my-1">202M</div>
              <span class="text-[10px] text-indigo-400">Fixe (Pas de mint)</span>
            </div>
            <div>
              <span class="text-[10px] uppercase text-gray-500 font-bold">Burned</span>
              <div class="text-xl font-bold text-white my-1">10%</div>
              <a href="https://bscscan.com/tx/0x4b8a548ebe8a599c66b59915d7413549a601ae5c2e6c5e7c0c0baf9214f15a17" target="_blank"
                 class="text-[10px] underline hover:text-brand text-gray-400">Preuve Burn</a>
            </div>
            <div>
              <span class="text-[10px] uppercase text-gray-500 font-bold">Locked</span>
              <div class="text-xl font-bold text-white my-1">10%</div>
              <a href="https://www.pinksale.finance/pinklock/bsc/record/1389151" target="_blank"
                 class="text-[10px] underline hover:text-brand text-gray-400">PinkLock #1</a>
            </div>
            <div>
              <span class="text-[10px] uppercase text-gray-500 font-bold">Taxes</span>
              <div class="text-xl font-bold text-white my-1">0/0</div>
              <span class="text-[10px] text-green-400">Buy / Sell</span>
            </div>
          </div>

          <div class="mt-6 flex flex-wrap gap-3">
            <span class="px-3 py-1 rounded-full bg-green-500/10 text-green-400 text-[10px] font-bold border border-green-500/20 flex items-center gap-1">
              <i data-lucide="check-circle" class="w-3 h-3"></i> Ownership Renounced
            </span>
            <a href="https://www.pinksale.finance/pinklock/bsc/record/1408517" target="_blank"
               class="px-3 py-1 rounded-full bg-blue-500/10 text-blue-400 text-[10px] font-bold border border-blue-500/20 flex items-center gap-1 hover:bg-blue-500/20">
              <i data-lucide="lock" class="w-3 h-3"></i> Liquidity Locked (LP)
            </a>
          </div>
        </div>

        <!-- Wallet -->
        <div class="glass-card rounded-3xl p-6 relative overflow-hidden group flex flex-col justify-center text-center">
          <div class="p-2 rounded-lg bg-white/5 text-brand w-fit mx-auto mb-2"><i data-lucide="wallet" class="w-5 h-5"></i></div>
          <h3 class="font-bold text-white mb-1">Wallet</h3>
          <p class="text-gray-400 text-xs mb-4">Ajoutez LUMA en un clic.</p>
          <button id="addMetaMask"
            class="w-full py-2 rounded-xl bg-[#f6851b]/10 text-[#f6851b] border border-[#f6851b]/30 hover:bg-[#f6851b]/20 transition font-bold flex items-center justify-center gap-2 text-sm">
            <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Fox.svg" class="w-4 h-4" alt="MetaMask">
            Ajouter √† MetaMask
          </button>
        </div>

        <!-- ‚úÖ Live Space -->
        <div class="glass-card rounded-3xl p-6 relative overflow-hidden group">
          <div class="flex items-center gap-2 mb-4">
            <div class="p-2 rounded-lg bg-white/5 text-brand"><i data-lucide="satellite" class="w-5 h-5"></i></div>
            <h3 class="font-bold text-white">Live Space</h3>
          </div>

          <div class="space-y-3 text-sm">
            <div class="flex items-center justify-between">
              <span class="text-gray-400">M√©t√©o locale</span>
              <span id="wxLabel" class="font-mono">--</span>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-gray-400">ISS distance</span>
              <span id="issDistance" class="font-mono">-- km</span>
            </div>
            <div class="text-[11px] text-gray-500 leading-relaxed">
              Localisation: <span id="geoStatus">en attente‚Ä¶</span>
            </div>

            <div class="pt-3 mt-3 border-t border-white/10 text-xs text-gray-400">
              <span class="text-gray-500">Conseil :</span> autorisez la g√©olocalisation pour activer ISS + m√©t√©o.
            </div>
          </div>
        </div>

        <!-- ‚úÖ Flux en continu -->
        <div class="glass-card rounded-3xl p-6 relative overflow-hidden group md:col-span-2">
          <div class="flex items-center gap-2 mb-4">
            <div class="p-2 rounded-lg bg-white/5 text-brand"><i data-lucide="newspaper" class="w-5 h-5"></i></div>
            <h3 class="font-bold text-white">Flux en continu</h3>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="p-4 rounded-2xl bg-white/5 border border-white/5">
              <div class="text-xs font-bold text-indigo-300 mb-2">Espace (NASA / SpaceX / missions)</div>
              <div id="spaceNews" class="space-y-2 text-xs text-gray-300">Chargement‚Ä¶</div>
            </div>

            <div class="p-4 rounded-2xl bg-white/5 border border-white/5">
              <div class="text-xs font-bold text-brand mb-2">Crypto (march√© / actualit√©)</div>
              <div id="cryptoNews" class="space-y-2 text-xs text-gray-300">Chargement‚Ä¶</div>
            </div>
          </div>
        </div>

        <!-- √âv√©nements (tu peux r√©viser le contenu) -->
        <div id="events" class="glass-card rounded-3xl p-6 relative overflow-hidden group md:col-span-1">
          <div class="flex items-center gap-2 mb-4">
            <div class="p-2 rounded-lg bg-white/5 text-brand"><i data-lucide="calendar" class="w-5 h-5"></i></div>
            <h3 class="font-bold text-white">√âv√©nements</h3>
          </div>
          <div class="space-y-4">
            <div class="p-3 rounded-xl bg-white/5 border border-white/5">
              <span class="text-[10px] uppercase font-bold text-brand mb-1 block">En cours</span>
              <div class="font-bold text-sm text-white">LUMA Mission Update</div>
              <p class="text-xs text-gray-400 mt-1">Suivi live: crypto, espace, ISS, m√©t√©o.</p>
            </div>
            <div class="p-3 rounded-xl bg-white/5 border border-white/5 opacity-70">
              <span class="text-[10px] uppercase font-bold text-gray-400 mb-1 block">√Ä venir</span>
              <div class="font-bold text-sm text-white">LUMA Arcade</div>
              <p class="text-xs text-gray-400 mt-1">Tournois et d√©fis communautaires.</p>
            </div>
          </div>
        </div>

        <!-- Communaut√© -->
        <div class="glass-card rounded-3xl p-6 relative overflow-hidden group md:col-span-2">
          <div class="flex items-center gap-2 mb-4">
            <div class="p-2 rounded-lg bg-white/5 text-brand"><i data-lucide="users" class="w-5 h-5"></i></div>
            <h3 class="font-bold text-white">Communaut√©</h3>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
            <a href="https://t.me/LunarMarsOfficial" target="_blank" class="flex items-center justify-between p-3 rounded-xl bg-blue-500/10 hover:bg-blue-500/20 transition">
              <span class="font-semibold text-blue-400 text-sm">Telegram</span>
              <i data-lucide="external-link" class="w-4 h-4 text-blue-400"></i>
            </a>
            <a href="https://x.com/LunarMarsToken" target="_blank" class="flex items-center justify-between p-3 rounded-xl bg-white/5 hover:bg-white/10 transition">
              <span class="font-semibold text-white text-sm">X (Twitter)</span>
              <i data-lucide="external-link" class="w-4 h-4 text-white"></i>
            </a>
            <a href="https://bscscan.com/token/0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9" target="_blank" class="flex items-center justify-between p-3 rounded-xl bg-white/5 hover:bg-white/10 transition">
              <span class="font-semibold text-gray-300 text-sm">BscScan</span>
              <i data-lucide="external-link" class="w-4 h-4 text-gray-300"></i>
            </a>
          </div>
        </div>

      </div>
    </div>

    <!-- Roadmap (inchang√©) -->
    <div id="roadmap" class="max-w-4xl mx-auto mb-32">
      <h2 class="text-3xl font-bold mb-12 text-center text-white">Feuille de Route</h2>

      <div class="space-y-6 relative border-l border-white/10 ml-4 md:ml-0 md:border-l-0">

        <div class="relative flex flex-col md:flex-row items-start md:items-center group">
          <div class="hidden md:flex absolute left-1/2 -translate-x-1/2 w-8 h-8 rounded-full border border-white/20 bg-[#0F0F10] items-center justify-center text-xs text-gray-400 font-bold z-10">1</div>
          <div class="ml-8 md:ml-0 md:w-1/2 md:pr-12 md:text-right">
            <div class="p-6 rounded-2xl glass-card">
              <div class="flex items-center justify-between md:justify-end mb-2 gap-2">
                <h3 class="font-bold text-white">Lancement Orbital</h3>
                <span class="text-[10px] uppercase tracking-wider px-2 py-1 rounded-full border border-green-500/30 text-green-400">Termin√©</span>
              </div>
              <p class="text-sm text-gray-400">D√©ploiement contrat, Burn initial, Whitepaper v1, PinkLock, Cr√©ation canaux X & Telegram.</p>
            </div>
          </div>
        </div>

        <div class="relative flex flex-col md:flex-row items-start md:items-center group">
          <div class="hidden md:flex absolute left-1/2 -translate-x-1/2 w-8 h-8 rounded-full border border-white/20 bg-[#0F0F10] items-center justify-center text-xs text-gray-400 font-bold z-10">2</div>
          <div class="ml-8 md:ml-0 md:w-1/2 md:translate-x-full md:pl-12">
            <div class="p-6 rounded-2xl glass-card border-brand/30">
              <div class="flex items-center justify-between mb-2 gap-2">
                <h3 class="font-bold text-white">Construction de l'√©quipage</h3>
                <span class="text-[10px] uppercase tracking-wider px-2 py-1 rounded-full border border-brand/30 text-brand">En cours</span>
              </div>
              <p class="text-sm text-gray-400">Airdrops cibl√©s, Lancement site officiel, Jeu LUMA Arcade, Suivi stats.</p>
            </div>
          </div>
        </div>

        <div class="relative flex flex-col md:flex-row items-start md:items-center group">
          <div class="hidden md:flex absolute left-1/2 -translate-x-1/2 w-8 h-8 rounded-full border border-white/20 bg-[#0F0F10] items-center justify-center text-xs text-gray-400 font-bold z-10">3</div>
          <div class="ml-8 md:ml-0 md:w-1/2 md:pr-12 md:text-right">
            <div class="p-6 rounded-2xl glass-card">
              <div class="flex items-center justify-between md:justify-end mb-2 gap-2">
                <h3 class="font-bold text-white">Expansion Lunaire</h3>
                <span class="text-[10px] uppercase tracking-wider px-2 py-1 rounded-full border border-white/10 text-gray-500">√Ä venir</span>
              </div>
              <p class="text-sm text-gray-400">R√©f√©rencements trackers, Partenariats Web3, Outils p√©dagogiques, Concours.</p>
            </div>
          </div>
        </div>

        <div class="relative flex flex-col md:flex-row items-start md:items-center group">
          <div class="hidden md:flex absolute left-1/2 -translate-x-1/2 w-8 h-8 rounded-full border border-white/20 bg-[#0F0F10] items-center justify-center text-xs text-gray-400 font-bold z-10">4</div>
          <div class="ml-8 md:ml-0 md:w-1/2 md:translate-x-full md:pl-12">
            <div class="p-6 rounded-2xl glass-card">
              <div class="flex items-center justify-between mb-2 gap-2">
                <h3 class="font-bold text-white">Corridor Lune ‚Üí Mars</h3>
                <span class="text-[10px] uppercase tracking-wider px-2 py-1 rounded-full border border-white/10 text-gray-500">Futur</span>
              </div>
              <p class="text-sm text-gray-400">√âcosyst√®me symbolique, Utilit√© cr√©ative (Jeu/Art), Gouvernance DAO.</p>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- ‚úÖ Voyager -->
    <div id="voyager" class="max-w-6xl mx-auto mb-32">
      <h2 class="text-3xl font-bold mb-8 text-center text-white">Voyager 1 & 2</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="glass-card rounded-3xl p-6">
          <div class="font-bold text-white mb-2">Voyager 1</div>
          <div class="text-sm text-gray-400">Position: <span id="v1pos" class="font-mono">--</span></div>
          <div class="text-sm text-gray-400">Distance Terre: <span id="v1earth" class="font-mono">--</span></div>
          <div class="text-sm text-gray-400">Distance Soleil: <span id="v1sun" class="font-mono">--</span></div>
        </div>
        <div class="glass-card rounded-3xl p-6">
          <div class="font-bold text-white mb-2">Voyager 2</div>
          <div class="text-sm text-gray-400">Position: <span id="v2pos" class="font-mono">--</span></div>
          <div class="text-sm text-gray-400">Distance Terre: <span id="v2earth" class="font-mono">--</span></div>
          <div class="text-sm text-gray-400">Distance Soleil: <span id="v2sun" class="font-mono">--</span></div>
        </div>
      </div>
      <p class="text-xs text-gray-600 text-center mt-4">
        Note : sur GitHub Pages (front-only), Voyager ‚Äúlive‚Äù est difficile (CORS). Ici, valeurs ‚Äúsnapshot‚Äù propres.
      </p>
    </div>

    <!-- FAQ -->
    <div id="faq" class="max-w-3xl mx-auto mb-20">
      <h2 class="text-3xl font-bold mb-8 text-center text-white">FAQ</h2>
      <div class="space-y-4">
        <div class="glass-card rounded-xl p-5">
          <h4 class="font-bold text-white mb-2">LUMA est-il un projet de pump & dump ?</h4>
          <p class="text-sm text-gray-400">Non. LUMA est un jeton symbolique, communautaire et √©ducatif. L‚Äôobjectif est de rassembler autour d'une vision.</p>
        </div>
        <div class="glass-card rounded-xl p-5">
          <h4 class="font-bold text-white mb-2">Comment acheter LUMA ?</h4>
          <p class="text-sm text-gray-400">Connectez MetaMask √† la BSC, puis utilisez PancakeSwap ou MEXC DEX avec l'adresse officielle.</p>
        </div>
        <div class="glass-card rounded-xl p-5">
          <h4 class="font-bold text-white mb-2">Est-ce un conseil financier ?</h4>
          <p class="text-sm text-gray-400">Non. Rien ici ne constitue un conseil financier. Chacun est responsable de ses d√©cisions.</p>
        </div>
      </div>
    </div>
  </main>

  <footer class="border-t border-white/5 py-12 text-center bg-[#0F0F10]">
    <p class="text-gray-600 text-xs max-w-md mx-auto leading-relaxed px-4">
      LUMA est un jeton communautaire symbolique sur BNB Smart Chain. Rien ici n'est un conseil financier ou d'investissement. <br>
      Suivez-nous sur X : <a href="https://x.com/LunarMarsToken" class="hover:text-brand">@LunarMarsToken</a>.
      <br>&copy; 2026 Lunar&Mars Project.
    </p>
  </footer>

  <script>
    // Ic√¥nes
    lucide.createIcons();

    // ‚úÖ Configuration
    const CONTRACT_ADDRESS = '0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9';
    const TZ = "America/Toronto";
    const $ = (id) => document.getElementById(id);

    // ‚úÖ Positionnement dynamique (festival bar on/off)
    function layoutTopBars(isFestivalVisible) {
      const nav = $("mainNav");
      const ticker = $("tickerBar");
      const main = $("mainContent");

      if (isFestivalVisible) {
        nav.style.top = "32px";
        ticker.style.top = "88px";
        main.style.paddingTop = "12rem";
      } else {
        nav.style.top = "0px";
        ticker.style.top = "56px";
        main.style.paddingTop = "10rem";
      }
    }

    // 1) Copier contrat
    $("copyBtn").addEventListener('click', () => {
      navigator.clipboard.writeText(CONTRACT_ADDRESS);
      const textSpan = $("copyText");
      const originalText = textSpan.innerText;
      textSpan.innerText = "Copi√© !";
      textSpan.parentElement.classList.add('bg-green-500/20', 'text-green-400', 'border-green-500/30');
      setTimeout(() => {
        textSpan.innerText = originalText;
        textSpan.parentElement.classList.remove('bg-green-500/20', 'text-green-400', 'border-green-500/30');
      }, 2000);
    });

    // 2) MetaMask
    $("addMetaMask").addEventListener('click', async () => {
      if (window.ethereum) {
        try {
          await window.ethereum.request({
            method: 'wallet_watchAsset',
            params: {
              type: 'ERC20',
              options: {
                address: CONTRACT_ADDRESS,
                symbol: 'LUMA',
                decimals: 18,
                image: window.location.origin + '/Luma-logo.png',
              },
            },
          });
        } catch (error) { console.error(error); }
      } else {
        alert("MetaMask non d√©tect√©.");
      }
    });

    // 3) Popup jeu
    function openGamePopup() {
      window.open('game/luma-game.html', 'LUMA_ARCADE', 'width=500,height=750,resizable=yes,scrollbars=no');
    }
    window.openGamePopup = openGamePopup;

    // 4) Prix + ticker (GeckoTerminal + CoinGecko)
    const barCoins = [
      { id:"binancecoin", symbol:"BNB" }, { id:"bitcoin", symbol:"BTC" },
      { id:"ethereum", symbol:"ETH" }, { id:"solana", symbol:"SOL" }
    ];

    async function fetchMarketData() {
      try {
        const resLuma = await fetch("https://api.geckoterminal.com/api/v2/networks/bsc/pools/0xc4ce7c692fdd27603437199c9b40baf5e2b804e6");
        const dataLuma = await resLuma.json();
        const attr = dataLuma?.data?.attributes;

        let lumaPrice = 0;
        let lumaChange = 0;

        if (attr) {
          lumaPrice = parseFloat(attr.base_token_price_usd);
          lumaChange = parseFloat(attr.price_change_percentage?.h24 || 0);

          $("livePrice").innerText = lumaPrice < 0.01 ? '$' + lumaPrice.toFixed(9) : '$' + lumaPrice.toFixed(4);
          const changeEl = $("liveChange");
          changeEl.innerText = (lumaChange >= 0 ? '+' : '') + lumaChange.toFixed(2) + '% (24h)';
          changeEl.className = `text-xs font-bold ${lumaChange >= 0 ? 'text-green-400' : 'text-red-400'}`;
        }

        const ids = barCoins.map(c => c.id).join(",");
        const resCoins = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${ids}&vs_currencies=usd&include_24hr_change=true`);
        const dataCoins = await resCoins.json();

        const track = $("ticker-track");
        let tickerHTML = '';
        tickerHTML += `<span class="font-bold text-brand">LUMA $${lumaPrice.toFixed(9)} <span class="${lumaChange >= 0 ? 'text-green-400' : 'text-red-400'}">(${lumaChange.toFixed(2)}%)</span></span> <span class="text-white/20">|</span> `;

        barCoins.forEach(c => {
          const info = dataCoins[c.id];
          if(info) {
            const p = info.usd;
            const chg = info.usd_24h_change;
            tickerHTML += `<span>${c.symbol} $${p.toLocaleString()} <span class="${chg >= 0 ? 'text-green-400' : 'text-red-400'}">(${chg.toFixed(2)}%)</span></span> <span class="text-white/20 mx-4">|</span> `;
          }
        });

        track.innerHTML = tickerHTML + tickerHTML;
      } catch (e) {
        console.error("Erreur data:", e);
      }
    }
    fetchMarketData();
    setInterval(fetchMarketData, 60000);

    // ‚úÖ UTIL: Haversine
    function haversineKm(lat1, lon1, lat2, lon2) {
      const R = 6371;
      const toRad = (d) => (d * Math.PI) / 180;
      const dLat = toRad(lat2 - lat1);
      const dLon = toRad(lon2 - lon1);
      const a =
        Math.sin(dLat/2)**2 +
        Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon/2)**2;
      return 2 * R * Math.asin(Math.sqrt(a));
    }

    // ‚úÖ 5) Bandeau f√™tes (Nouvel An jusqu‚Äôau 15 janvier)
    function setFestivalBar() {
      const now = new Date();
      const y = now.getFullYear();
      const localNow = new Date();

      const inNewYearWindow =
        localNow >= new Date(y, 0, 1, 0, 0, 0) &&
        localNow <= new Date(y, 0, 15, 23, 59, 59);

      const bar = $("festival-bar");
      const txt = $("festival-text");

      if (inNewYearWindow) {
        txt.textContent = "‚ú® Bonne ann√©e ! LUMA vous souhaite une excellente ann√©e ‚Äî cap sur l‚Äôinnovation (jusqu‚Äôau 15 janvier).";
        bar.classList.remove("hidden");
        layoutTopBars(true);
      } else {
        bar.classList.add("hidden");
        layoutTopBars(false);
      }
    }
    setFestivalBar();

    // ‚úÖ 6) M√©t√©o + overlay (Open-Meteo, sans cl√©)
    let geo = { lat: null, lon: null };
    let stopParticles = null;

    function clearWeatherOverlay() {
      $("weather-overlay").innerHTML = "";
    }

    function spawnParticles(char, rateMs) {
      const w = $("weather-overlay");
      const timer = setInterval(() => {
        const p = document.createElement("div");
        p.className = "absolute top-[-20px] text-white/80 pointer-events-none";
        p.textContent = char;
        p.style.left = Math.random() * 100 + "vw";
        p.style.fontSize = (10 + Math.random() * 18) + "px";
        p.style.opacity = (0.25 + Math.random() * 0.55).toString();
        const dur = 6 + Math.random() * 6;
        p.style.transition = `transform ${dur}s linear, opacity ${dur}s linear`;
        w.appendChild(p);

        requestAnimationFrame(() => {
          p.style.transform = `translateY(120vh) translateX(${(-20 + Math.random()*40)}px)`;
          p.style.opacity = "0";
        });

        setTimeout(() => p.remove(), dur * 1000);
      }, rateMs);

      return () => clearInterval(timer);
    }

    function applyWeatherEffect(mode) {
      clearWeatherOverlay();
      if (stopParticles) stopParticles();

      if (mode === "snow") stopParticles = spawnParticles("‚ùÑ", 180);
      else if (mode === "rain") stopParticles = spawnParticles("üíß", 120);
      else if (mode === "storm") {
        stopParticles = spawnParticles("üíß", 90);
        const w = $("weather-overlay");
        const flash = document.createElement("div");
        flash.className = "absolute inset-0 bg-white pointer-events-none";
        flash.style.opacity = "0";
        w.appendChild(flash);

        setInterval(() => {
          if (Math.random() < 0.18) {
            flash.style.transition = "opacity 120ms ease";
            flash.style.opacity = "0.28";
            setTimeout(() => flash.style.opacity = "0", 140);
          }
        }, 900);
      }
    }

    async function fetchWeather() {
      if (geo.lat == null) return;

      const url = `https://api.open-meteo.com/v1/forecast?latitude=${geo.lat}&longitude=${geo.lon}&current=temperature_2m,weather_code,wind_speed_10m&timezone=${encodeURIComponent(TZ)}`;
      const r = await fetch(url);
      const j = await r.json();
      const cur = j.current;

      const code = cur.weather_code;
      const temp = cur.temperature_2m;

      let mode = "clear";
      if ((code >= 51 && code <= 67) || (code >= 80 && code <= 82)) mode = "rain";
      if (code >= 71 && code <= 77) mode = "snow";
      if (code >= 95 && code <= 99) mode = "storm";

      $("wxLabel").textContent = `${temp}¬∞C ‚Ä¢ ${mode.toUpperCase()}`;
      applyWeatherEffect(mode);
    }

    // ‚úÖ 7) ISS distance (WhereTheISS.at)
    async function fetchISS() {
      if (geo.lat == null) return;
      const r = await fetch("https://api.wheretheiss.at/v1/satellites/25544");
      const j = await r.json();
      const d = haversineKm(geo.lat, geo.lon, j.latitude, j.longitude);
      $("issDistance").textContent = `${Math.round(d).toLocaleString()} km`;
    }

    // ‚úÖ 8) News Space + Crypto (front-only)
    async function fetchSpaceNews() {
      const r = await fetch("https://api.spaceflightnewsapi.net/v4/articles/?limit=5");
      const j = await r.json();
      const items = j.results || [];

      $("spaceNews").innerHTML = items.map(a => {
        const t = (a.title || "").slice(0, 95);
        const when = a.published_at ? new Date(a.published_at).toLocaleDateString("fr-CA") : "";
        return `<div>
          <a class="block hover:text-white underline underline-offset-2" target="_blank" href="${a.url}">${t}</a>
          <div class="text-[10px] text-gray-500">${when}</div>
        </div>`;
      }).join("");
    }

    async function fetchCryptoNews() {
      try {
        const r = await fetch("https://min-api.cryptocompare.com/data/v2/news/?lang=EN");
        const j = await r.json();
        const items = (j.Data || []).slice(0, 5);

        $("cryptoNews").innerHTML = items.map(n => {
          const t = (n.title || "").slice(0, 95);
          const when = n.published_on ? new Date(n.published_on * 1000).toLocaleDateString("fr-CA") : "";
          return `<div>
            <a class="block hover:text-white underline underline-offset-2" target="_blank" href="${n.url}">${t}</a>
            <div class="text-[10px] text-gray-500">${when}</div>
          </div>`;
        }).join("");
      } catch (e) {
        $("cryptoNews").innerHTML = `<div class="text-gray-400">Flux crypto indisponible (CORS). Solution id√©ale : petit proxy (Cloudflare Worker).</div>`;
      }
    }

    // ‚úÖ 9) Voyager snapshot (stable)
    function setVoyagerSnapshot() {
      $("v1pos").textContent = "Espace interstellaire";
      $("v2pos").textContent = "Espace interstellaire";
      $("v1earth").textContent = "Snapshot (√† maintenir)";
      $("v2earth").textContent = "Snapshot (√† maintenir)";
      $("v1sun").textContent = "Snapshot (√† maintenir)";
      $("v2sun").textContent = "Snapshot (√† maintenir)";
    }
    setVoyagerSnapshot();

    // ‚úÖ 10) G√©olocalisation
    function initGeo() {
      if (!navigator.geolocation) {
        $("geoStatus").textContent = "g√©olocalisation non disponible";
        return;
      }

      navigator.geolocation.getCurrentPosition(
        async (pos) => {
          geo.lat = pos.coords.latitude;
          geo.lon = pos.coords.longitude;
          $("geoStatus").textContent = `${geo.lat.toFixed(3)}, ${geo.lon.toFixed(3)}`;

          await fetchWeather();
          await fetchISS();
          await fetchSpaceNews();
          await fetchCryptoNews();

          setInterval(fetchWeather, 10 * 60 * 1000);
          setInterval(fetchISS, 20 * 1000);
          setInterval(fetchSpaceNews, 5 * 60 * 1000);
          setInterval(fetchCryptoNews, 5 * 60 * 1000);
        },
        () => {
          $("geoStatus").textContent = "permission refus√©e (ISS/M√©t√©o off)";
        },
        { enableHighAccuracy: false, timeout: 8000, maximumAge: 60000 }
      );
    }
    initGeo();
  </script>
</body>
</html>
