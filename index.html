<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title id="page-title" data-en="LUMA Cosmic Relay | Mission Control" data-fr="LUMA Relais Cosmique | Centre de ContrÃ´le">LUMA Relais Cosmique | Centre de ContrÃ´le</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="Luma-noel-logo.png" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z4L8P2YSD7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-Z4L8P2YSD7');
    </script>

    <style>
        /* BASE & THEME: Inspired by the generated cosmic design */
        :root {
            --color-luma-primary: #ffb21a; /* Orange for Highlights */
            --color-luma-secondary: #00e0ff; /* Cyan for Energy/Data Flow */
            --color-luma-success: #2ecc71;
            --color-luma-danger: #e74c3c;
            --color-bg-dark: #090a16;
            --color-panel-bg: rgba(25, 27, 52, 0.7); /* Slightly transparent dark card */
            --color-border: rgba(255, 255, 255, 0.1);
            --font-display: 'Orbitron', sans-serif;
            --font-data: 'JetBrains Mono', monospace;
        }

        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: "Inter", sans-serif;
            background: #000 url('Luma-fond-christmas.jpg') center/cover fixed no-repeat;
            color:#fff;
            min-height: 100vh;
        }
        a { color:var(--color-luma-primary); text-decoration:none; transition: color 0.2s; }
        a:hover { color: var(--color-luma-secondary); }

        .container { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
        .panel { 
            background: var(--color-panel-bg); 
            border-radius:12px; 
            border:1px solid var(--color-border);
            padding:20px; 
            box-shadow:0 8px 30px rgba(0,0,0,0.5); 
            backdrop-filter:blur(5px);
        }

        /* CHRISTMAS BANNER */
        .christmas-banner {
            background: linear-gradient(90deg, #b30000, #008000);
            color: #fff;
            text-align: center;
            padding: 8px 15px;
            font-weight: 600;
            letter-spacing: 0.5px;
            font-size: 0.9rem;
            margin-top: 56px; /* Adjust for sticky header height */
        }

        /* 1. HEADER (Top Navigation) */
        header { 
            background: rgba(9, 10, 22, 0.9); 
            backdrop-filter: blur(10px); 
            border-bottom: 1px solid var(--color-border);
            padding: 10px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .header-content { display: flex; align-items: center; justify-content: space-between; gap: 20px; }
        .brand { display: flex; align-items: center; gap: 10px; }
        .brand-logo img { width: 36px; height: 36px; border-radius: 8px; }
        .brand-name { font-size: 20px; font-weight: 800; letter-spacing: 0.05em; font-family: var(--font-display); color: var(--color-luma-primary); }

        .nav { display:flex; gap:20px; font-size:13px; font-weight: 600; }
        .nav a { color: #fff; opacity:0.7; padding: 5px 0; border-bottom: 2px solid transparent; transition: all 0.2s; }
        .nav a:hover { opacity: 1; border-color: var(--color-luma-secondary); }
        
        .lang-switch { display:flex; gap:8px; }
        .lang-switch button { background: var(--color-panel-bg); color: #fff; border: 1px solid var(--color-border); padding: 6px 12px; border-radius: 6px; cursor:pointer; font-size:12px; transition: all 0.2s; }
        .lang-switch button.active { background:var(--color-luma-primary); color:#1b1302; border-color: var(--color-luma-primary); }

        .launch-btn {
            background: var(--color-luma-secondary);
            color: #000;
            padding: 8px 18px;
            border-radius: 6px;
            font-weight: 800;
            box-shadow: 0 0 15px rgba(0, 224, 255, 0.4);
            transition: all 0.3s;
        }
        .launch-btn:hover {
            box-shadow: 0 0 25px rgba(0, 224, 255, 0.6);
            transform: scale(1.05);
        }

        /* 2. COSMIC VISUAL HEADER */
        .cosmic-header { 
            text-align: center; 
            padding: 80px 0 50px; 
            position: relative;
            z-index: 10;
        }
        .cosmic-title { font-family: var(--font-display); font-size: 3.5rem; letter-spacing: 0.1em; margin-bottom: 5px; color: #fff; text-shadow: 0 0 15px var(--color-luma-secondary); }
        .cosmic-subtitle { font-size: 1.2rem; color: var(--color-luma-primary); margin-bottom: 40px; }
        
        .visual-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            position: relative;
        }
        /* NOTE: Ces images sont des placeholders gÃ©nÃ©riques pour simuler l'effet, utilisez vos propres assets si disponibles */
        .planet { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; box-shadow: 0 0 25px rgba(255, 255, 255, 0.2); }
        .earth { box-shadow: 0 0 25px rgba(0, 100, 255, 0.8); }
        .moon { width: 80px; height: 80px; box-shadow: 0 0 20px rgba(255, 255, 255, 0.7); }
        .mars { box-shadow: 0 0 25px rgba(255, 69, 0, 0.8); }
        
        .connector-line {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%; 
            height: 2px;
            background: linear-gradient(90deg, rgba(0, 224, 255, 0.5) 0%, var(--color-luma-primary) 50%, rgba(255, 69, 0, 0.5) 100%);
            z-index: -1;
            box-shadow: 0 0 10px rgba(0, 224, 255, 0.5);
        }
        
        /* 3. DASHBOARD GRID */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 40px 20px;
        }

        /* Major Stat Cards */
        .stat-card-main {
            min-height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .stat-card-main h3 { font-size: 1rem; color: var(--color-luma-primary); margin-bottom: 5px; }
        .stat-value-main { font-size: 2.5rem; font-weight: 900; font-family: var(--font-data); color: var(--color-luma-secondary); }
        .stat-detail { font-size: 0.8rem; color: rgba(255, 255, 255, 0.6); margin-top: 10px; }
        .stat-change { color: var(--color-luma-success); font-weight: 700; }
        .stat-change.down { color: var(--color-luma-danger); }
        
        /* Mission Log / Transaction Log */
        .log-card {
            grid-column: span 2 / span 2;
            min-height: 250px;
        }
        .log-card h3 { font-size: 1.2rem; color: var(--color-luma-primary); margin-bottom: 15px; }
        .log-entry { font-family: var(--font-data); font-size: 0.85rem; color: rgba(0, 224, 255, 0.8); line-height: 1.6; border-bottom: 1px dotted var(--color-border); padding: 5px 0; }
        .log-entry:last-child { border-bottom: none; }
        .log-entry a { color: var(--color-luma-primary); text-decoration: underline; }
        
        /* Security/Tokenomics Card */
        .security-card {
            grid-column: span 1 / span 1;
        }
        .security-card h3 { font-size: 1.2rem; color: var(--color-luma-danger); margin-bottom: 15px; }
        .security-item { font-size: 0.9rem; color: #fff; margin-bottom: 8px; }
        .security-item strong { color: var(--color-luma-success); }
        .security-item a { font-size: 0.75rem; margin-left: 5px; color: var(--color-luma-secondary); }
        
        /* Trading section - Adaptation du style V3 */
        .trade-links-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            padding: 20px;
            background: var(--color-panel-bg);
            border-radius: 12px;
            margin-top: 40px;
        }
        .trading-card { background: none; padding: 0; border: none; }
        .trading-title { font-size: 1.4rem; font-weight: 700; margin-bottom: 15px; color: var(--color-luma-primary); }
        .trade-btn-group { display: flex; gap: 15px; }
        .trade-btn-group a {
            flex: 1;
            padding: 12px;
            border-radius: 6px;
            text-align: center;
            font-weight: 700;
            font-size: 0.95rem;
            transition: transform 0.1s;
        }
        .btn-buy { background: var(--color-luma-success); color: #000; }
        .btn-dex { background: #3498db; color: #fff; }
        .btn-chart { background: #555; color: #fff; }

        .contract-info { margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px; border: 1px dashed var(--color-border); }
        .contract-info p { font-size: 11px; color: rgba(255,255,255,0.7); }
        .contract-address { 
            font-family: var(--font-data); 
            font-size: 12px; 
            margin-top: 5px;
            word-break: break-all;
            color: var(--color-luma-primary);
        }
        
        /* Mobile adjustments */
        @media (max-width: 900px) {
            .dashboard-grid { grid-template-columns: 1fr; }
            .log-card { grid-column: span 1 / span 1; }
            .cosmic-title { font-size: 2.5rem; }
            .christmas-banner { margin-top: 48px; }
            .trade-links-grid { grid-template-columns: 1fr; padding: 20px; }
            .trade-btn-group { flex-direction: column; }
        }

        footer { 
            padding: 20px 0; 
            border-top: 1px solid var(--color-border); 
            margin-top: 40px; 
            text-align: center; 
            font-size: 12px; 
            color: rgba(255,255,255,0.6); 
        }
    </style>
</head>

<body data-lang="fr">

    <header>
        <div class="container header-content">
            <div class="brand">
                <div class="brand-logo"><img src="Luma-noel-logo.png" alt="LUMA logo" /></div>
                <div class="brand-name">Lunar&Mars</div>
            </div>
            
            <nav class="nav">
                <a href="#dashboard">TÃ‰LÃ‰MÃ‰TRIE</a>
                <a href="#security">SÃ‰CURITÃ‰</a>
                <a href="https://t.me/LunarMarsOfficial" target="_blank">COMMUNAUTÃ‰</a>
                <a href="LUMA_Whitepaper_v1.pdf" target="_blank">WHITEPAPER</a>
            </nav>
            
            <div class="lang-switch">
                <button id="lang-en" onclick="setLanguage('en')">EN</button>
                <button id="lang-fr" onclick="setLanguage('fr')" class="active">FR</button>
            </div>
            
            <a href="https://pancakeswap.finance/swap?outputCurrency=0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9&chainId=56" target="_blank" class="launch-btn">BUY LUMA</a>
        </div>
    </header>
    
    <div class="christmas-banner">
        ðŸŽ…âœ¨ LUMA Christmas Airdrop â€“ Santa is flying to every Lumian & Lumienne wallet! ðŸŽ„ðŸš€
    </div>

    <main class="container">
        
        <section class="cosmic-header">
            <h1 class="cosmic-title">LUNAR&MARS (LUMA)</h1>
            <p class="cosmic-subtitle">COSMIC RELAY STATUS: OPERATIONAL</p>
            
            <div class="visual-container">
                <img src="https://i.imgur.com/eBq2M4w.png" alt="Earth" class="planet earth" />
                <img src="https://i.imgur.com/8Q85N9D.png" alt="Moon" class="planet moon" />
                <img src="https://i.imgur.com/M6L5jH4.png" alt="Mars" class="planet mars" />
                <div class="connector-line"></div>
            </div>
        </section>
        
        <section id="dashboard" class="dashboard-grid">
            
            <div class="panel stat-card-main">
                <h3>LIVE PRICE (USD)</h3>
                <div id="luma-price" class="stat-value-main">â€”</div>
                <p class="stat-detail">Changement 24h: <span id="luma-change" class="stat-change">â€”</span></p>
            </div>
            
            <div class="panel stat-card-main">
                <h3>MARKET CAP</h3>
                <div id="stat-mcap" class="stat-value-main">â€”</div>
                <p class="stat-detail">CalculÃ© en direct (Prix x Supply).</p>
            </div>
            
            <div class="panel stat-card-main">
                <h3>ACTIVE HOLDERS</h3>
                <div id="stat-holders" class="stat-value-main">â€”</div>
                <p class="stat-detail">Portefeuilles uniques (Source: BscScan).</p>
            </div>
            
            <div class="panel stat-card-main">
                <h3>TOTAL SUPPLY</h3>
                <div id="stat-supply" class="stat-value-main" style="font-size: 2rem;">â€” LUMA</div>
                <p class="stat-detail">AprÃ¨s burn initial (22,538,440 LUMA brÃ»lÃ©s).</p>
            </div>
            
            <div class="panel log-card">
                <h3>TRANSMISSION LOG (Latest Transactions/Events)</h3>
                <div id="transaction-log">
                    <div class="log-entry">TX: 0xfd...e772 - **Ownership Renounced** [FinalisÃ©] <a href="https://bscscan.com/tx/0xfdbae1139fdbbba8c5ffe63c4b7b90cee096fc0147ae27ef035fa2c68970e772" target="_blank">[Tx]</a></div>
                    <div class="log-entry">BURN: 0x4b...5a17 - **10% Supply Burned** (22,538,440 LUMA) <a href="https://bscscan.com/tx/0x4b8a548ebe8a599c66b59915d7413549a601ae5c2e6c5e7c0c0baf9214f15a17" target="_blank">[Tx]</a></div>
                    <div class="log-entry">LOCK: 1408517 - **LP Lock Activated** (1 year) <a href="https://www.pinksale.finance/pinklock/bsc/record/1408517" target="_blank">[Lock]</a></div>
                    <div class="log-entry">LOCK: 1391827 - **Supply Lock #2 Activated** [â‰ˆ9.7M LUMA] <a href="https://www.pinksale.finance/pinklock/bsc/record/1391827" target="_blank">[Lock]</a></div>
                    <div class="log-entry">LOCK: 1389151 - **Supply Lock #1 Activated** [â‰ˆ12.5M LUMA] <a href="https://www.pinksale.finance/pinklock/bsc/record/1389151" target="_blank">[Lock]</a></div>
                </div>
            </div>
            
            <div class="panel security-card" id="security">
                <h3>SECURITY PROTOCOLS</h3>
                
                <div class="security-item">Contrat: <strong style="color: var(--color-luma-danger);">OWNERSHIP RENOUNCÃ‰</strong></div>
                <div class="security-item">Taxe (Buy/Sell): <strong style="color: var(--color-luma-success);">0% / 0%</strong></div>
                <div class="security-item">
                    Supply Lock #1: <strong style="color: var(--color-luma-success);">ACTIVE</strong>
                    <a href="https://www.pinksale.finance/pinklock/bsc/record/1389151" target="_blank">[View]</a>
                </div>
                <div class="security-item">
                    Supply Lock #2: <strong style="color: var(--color-luma-success);">ACTIVE</strong>
                    <a href="https://www.pinksale.finance/pinklock/bsc/record/1391827" target="_blank">[View]</a>
                </div>
                <div class="security-item">
                    LP Lock (1 an): <strong style="color: var(--color-luma-success);">ACTIVE</strong>
                    <a href="https://www.pinksale.finance/pinklock/bsc/record/1408517" target="_blank">[View]</a>
                </div>
                
                <p style="margin-top: 15px; font-size: 0.8rem; color: rgba(255, 255, 255, 0.7);">
                    <a href="https://bscscan.com/token/0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9" target="_blank">VÃ©rifiez l'adresse du contrat</a>: <span style="font-family: var(--font-data); word-break: break-all;">0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9</span>
                </p>
            </div>

        </section>
        
        <div class="trade-links-grid">
            <div class="trading-card">
                <div class="trading-title">Acheter & Trader LUMA</div>
                <div class="trade-btn-group">
                    <a href="https://pancakeswap.finance/swap?outputCurrency=0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9&chainId=56" target="_blank" class="trade-btn-group a btn-buy">
                        Acheter sur PancakeSwap
                    </a>
                    <a href="https://www.mexc.com/dex/trade?pair_ca=0xc4ce7c692fdd27603437199c9b40baf5e2b804e6&chain_id=56&token_ca=0xea6c0908734d7cadc10c01b2e4e9d8e1664eecc9&inviteCode=1489J" target="_blank" class="trade-btn-group a btn-dex">
                        Trader sur MEXC DEX
                    </a>
                </div>
                
                <a href="https://www.geckoterminal.com/bsc/pools/0xc4ce7c692fdd27603437199c9b40baf5e2b804e6" target="_blank" style="display: block; margin-top: 15px;" class="trade-btn-group a btn-chart">
                    Voir le Graphique en Direct
                </a>
            </div>
            
            <div class="contract-info" style="align-self: center;">
                <p>RÃ©seau : BNB Smart Chain</p>
                <p>Contrat : <span class="contract-address">0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9</span></p>
                <p style="margin-top: 8px;">Taxes : Achat/Vente : 0% / 0%</p>
            </div>
        </div>
        
        <footer>
            <p>LUMA est un jeton communautaire symbolique sur BNB Smart Chain. Rien sur ce site n'est un conseil financier ou d'investissement. DYOR (Do Your Own Research) avant toute transaction.</p>
            <p style="margin-top: 5px;">Suivez la mission sur X : <a href="https://x.com/LunarMarsToken" target="_blank">@LunarMarsToken</a></p>
        </footer>
    </main>

    <script>
        const CONTRACT_ADDRESS = '0xEA6C0908734D7cADc10C01b2e4E9d8e1664EECc9';
        const BSCSCAN_API_KEYÂ  = 'SWCM6WAEYSX4YJS3SZP6EFXKQPM74K6N1Y'; 

        let lumaPriceUsd = null;
        let lumaSupplyÂ  Â = null;

        /* --- LOGIQUE DE TRADUCTION SIMPLIFIÃ‰E --- */
        function setLanguage(lang) {
            document.body.setAttribute('data-lang', lang);
            const enBtn = document.getElementById('lang-en');
            const frBtn = document.getElementById('lang-fr');
            if (enBtn && frBtn) {
                enBtn.classList.toggle('active', lang === 'en');
                frBtn.classList.toggle('active', lang === 'fr');
            }
        }
        setLanguage('fr');

        /* --- PRIX LUMA & MARKET DATA (GeckoTerminal) --- */
        function formatCryptoPrice(price) {
            if (!isFinite(price) || price <= 0) return "DATA UNAVAILABLE";
            let formatted = "$" + price.toFixed(10);
            formatted = formatted.replace(/0+$/, "").replace(/\.$/, "");
            if (price >= 1) formatted = "$" + price.toFixed(2);
            return formatted;
        }
        
        function updateMarketCap() {
            const mcapEl = document.getElementById('stat-mcap');
            if (!mcapEl) return;
            if (lumaPriceUsd && lumaSupply) {
                const mcap = lumaPriceUsd * lumaSupply;
                mcapEl.textContent = "$" + mcap.toLocaleString("fr-FR", { maximumFractionDigits: 0 });
            } else {
                mcapEl.textContent = "SYNC...";
            }
        }

        async function loadLumaPrice() {
            const url = "https://api.geckoterminal.com/api/v2/networks/bsc/pools/0xc4ce7c692fdd27603437199c9b40baf5e2b804e6";
            const priceElÂ  = document.getElementById("luma-price");
            const changeEl = document.getElementById("luma-change");
            try {
                const resÂ  = await fetch(url);
                const data = await res.json();
                const attr = data?.data?.attributes;
                if (!attr) { return; }
                
                const price = Number(attr.base_token_price_usd ?? attr.quote_token_price_usd ?? attr.price_usd ?? 0);
                const change = Number((attr.price_change_percentage && attr.price_change_percentage.h24) ?? attr.price_change_percentage_24h ?? 0);

                lumaPriceUsd = price;

                if (priceEl) {
                    priceEl.textContent = formatCryptoPrice(price);
                }
                if (changeEl) {
                    const isUp = change >= 0;
                    changeEl.classList.toggle("down", !isUp);
                    changeEl.classList.toggle("up", isUp);
                    changeEl.style.color = isUp ? 'var(--color-luma-success)' : 'var(--color-luma-danger)';
                    
                    const sign = isUp ? "â–² " : "â–¼ ";
                    changeEl.textContent = `${sign}${Math.abs(change).toFixed(2)}%`;
                }

                updateMarketCap();

            } catch (e) { 
                console.error("LUMA price error:", e); 
                if (priceEl) priceEl.textContent = "API FAILED";
            }
        }
        
        /* --- HOLDERS & SUPPLY (BscScan) --- */
        async function loadLumaOnchainStats() {
            const holdersEl = document.getElementById('stat-holders');
            const supplyElÂ  = document.getElementById('stat-supply');

            try {
                const holdersUrl = `https://api.bscscan.com/api?module=token&action=tokenholdercount&contractaddress=${CONTRACT_ADDRESS}&apikey=${BSCSCAN_API_KEY}`;
                const supplyUrlÂ  = `https://api.bscscan.com/api?module=stats&action=tokensupply&contractaddress=${CONTRACT_ADDRESS}&apikey=${BSCSCAN_API_KEY}`;

                const [holdersRes, supplyRes] = await Promise.all([
                    fetch(holdersUrl),
                    fetch(supplyUrl)
                ]);

                const holdersData = await holdersRes.json();
                const supplyDataÂ  = await supplyRes.json();

                if (holdersData.status === "1" && holdersEl) {
                    const count = Number(holdersData.result);
                    holdersEl.textContent = count.toLocaleString("fr-FR");
                }

                if (supplyData.status === "1" && supplyEl) {
                    const raw = Number(supplyData.result); // 18 dÃ©cimales
                    const supply = raw / 1e18;
                    lumaSupply = supply;
                    supplyEl.textContent = supply.toLocaleString("fr-FR", { maximumFractionDigits: 0 }) + " LUMA";
                    updateMarketCap();
                }

            } catch (e) {
                console.error("LUMA stats error:", e);
                if (holdersEl) holdersEl.textContent = "API FAILED";
                if (supplyEl) supplyEl.textContent = "API FAILED";
            }
        }
        
        // Initialisation et intervales
        loadLumaPrice();
        loadLumaOnchainStats();
        
        setInterval(loadLumaPrice, 60000); // 1 minute pour le prix
        setInterval(loadLumaOnchainStats, 300000); // 5 minutes pour BscScan
    </script>
</body>
</html>
